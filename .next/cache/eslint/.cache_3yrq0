[{"D:\\Projects\\Github\\mint-forms\\pages\\api\\hello.ts":"1","D:\\Projects\\Github\\mint-forms\\pages\\completepayment\\[paymentProvider]\\[orderId].js":"2","D:\\Projects\\Github\\mint-forms\\pages\\confirmation\\[id].tsx":"3","D:\\Projects\\Github\\mint-forms\\pages\\create.tsx":"4","D:\\Projects\\Github\\mint-forms\\pages\\form\\demo.tsx":"5","D:\\Projects\\Github\\mint-forms\\pages\\form\\dynamic.tsx":"6","D:\\Projects\\Github\\mint-forms\\pages\\form\\indicon2022.tsx":"7","D:\\Projects\\Github\\mint-forms\\pages\\form\\pedes2022.tsx":"8","D:\\Projects\\Github\\mint-forms\\pages\\index.tsx":"9","D:\\Projects\\Github\\mint-forms\\pages\\[formId]\\responses.js":"10","D:\\Projects\\Github\\mint-forms\\pages\\_app.tsx":"11","D:\\Projects\\Github\\mint-forms\\components\\addResponses\\index.js":"12","D:\\Projects\\Github\\mint-forms\\components\\sendMail\\index.js":"13","D:\\Projects\\Github\\mint-forms\\components\\sidebar\\index.tsx":"14","D:\\Projects\\Github\\mint-forms\\components\\topNav\\index.tsx":"15"},{"size":307,"mtime":1660377263858,"results":"16","hashOfConfig":"17"},{"size":3845,"mtime":1663520504029,"results":"18","hashOfConfig":"17"},{"size":5793,"mtime":1662532781944,"results":"19","hashOfConfig":"17"},{"size":3533,"mtime":1661672408914,"results":"20","hashOfConfig":"17"},{"size":25837,"mtime":1664300103125,"results":"21","hashOfConfig":"17"},{"size":4618,"mtime":1661328542681,"results":"22","hashOfConfig":"17"},{"size":26213,"mtime":1664971918688,"results":"23","hashOfConfig":"17"},{"size":22094,"mtime":1664972134465,"results":"24","hashOfConfig":"17"},{"size":318,"mtime":1664276322469,"results":"25","hashOfConfig":"17"},{"size":16382,"mtime":1664298750613,"results":"26","hashOfConfig":"17"},{"size":381,"mtime":1661879610049,"results":"27","hashOfConfig":"17"},{"size":1899,"mtime":1661878828399,"results":"28","hashOfConfig":"17"},{"size":4193,"mtime":1661878875742,"results":"29","hashOfConfig":"17"},{"size":1093,"mtime":1660386473216,"results":"30","hashOfConfig":"17"},{"size":290,"mtime":1660399564478,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"xpqc5n",{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78"},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Projects\\Github\\mint-forms\\pages\\api\\hello.ts",[],[],"D:\\Projects\\Github\\mint-forms\\pages\\completepayment\\[paymentProvider]\\[orderId].js",["85"],[],"import axios from 'axios';\nimport Loader from '../../../UI-Components/loader';\nimport { useEffect, useState } from 'react';\nimport Error from '../../../UI-Components/error';\nimport { useRouter } from 'next/router';\nimport displayPaytm from '../../../utils/displayPaytm';\nimport loadScript from '../../../utils/razorpayScript';\n\nexport default function CompletePayment() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [paymentSus, setPaymentSus] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n\n  async function displayRazorpay(data, values) {\n    const res = await loadScript(\n      'https://checkout.razorpay.com/v1/checkout.js'\n    );\n\n    if (!res) {\n      alert('Razorpay SDK failed to load. Are you online?');\n      return;\n    }\n\n    const options = {\n      key: data.key,\n      currency: data.currency,\n      amount: String(data.amount),\n      order_id: data.id,\n      name: 'Indicon 2022',\n      description: 'Thank you for registering',\n\n      handler: async (response) => {\n        try {\n          await axios.post(\n            `/api/pay/razorpay/verify?formId=${router.query.formId}&orderId=${response.razorpay_order_id}`,\n            response\n          );\n          router.push(`/confirmation/${response.razorpay_order_id}`);\n        } catch (err) {\n          setError(true);\n          setErrorMsg(\n            err.response !== undefined ? err.response.data.error : err\n          );\n          setLoading(false);\n        }\n      },\n      prefill: {\n        name: `${values.name}`,\n        email: values.email,\n        contact: data.amount.currency === 'USD' ? '' : `+91${values.phone}`,\n      },\n    };\n    const paymentObject = new window.Razorpay(options);\n    paymentObject.open();\n    paymentObject.on('payment.failed', async (response) => {\n      try {\n        await axios.post(\n          `/api/pay/razorpay/failed?formId=${router.query.formId}`,\n          response.error\n        );\n        router.push(\n          `/confirmation/${router.query.formId}/${response.error.metadata.order_id}`\n        );\n        paymentObject.close();\n      } catch (err) {\n        setError(true);\n        setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n        setLoading(false);\n      }\n    });\n  }\n\n  useEffect(() => {\n    async function getData() {\n      try {\n        if (router.query.paymentProvider === 'razorpay') {\n          var data = await axios.get(\n            `/api/pay/razorpay/orderDetails?orderId=${router.query.orderId}`\n          );\n          if (data.data.status !== 'paid') {\n            displayRazorpay(data.data, data.data.userDetails);\n          } else {\n            setPaymentSus(true);\n          }\n        }\n\n        if (router.query.paymentProvider === 'paytm') {\n          var data2 = await axios.get(\n            `/api/pay/paytm/reinitiate?orderId=${router.query.orderId}`\n          );\n          displayPaytm(data2.data);\n        }\n      } catch (err) {\n        setError(true);\n        setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n        setLoading(false);\n      }\n    }\n    if (router.query.orderId !== undefined) {\n      getData();\n    }\n  }, [router.query.orderId]);\n\n  return (\n    <div>\n      {error ? <Error setError={setError} msg={errorMsg} /> : null}\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : null}\n      {paymentSus ? (\n        <div\n          style={{\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%,-50%)',\n          }}\n        >\n          {/* <img src={src} alt=\"celebrate\"/> */}\n          <p>Payment already made</p>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","D:\\Projects\\Github\\mint-forms\\pages\\confirmation\\[id].tsx",["86"],[],"import Head from 'next/head';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport styles from '../../styles/Confirmation.module.css';\nimport type { NextPage } from 'next';\nimport moment from 'moment'\n\ntype data = {\n  paymentStatus: string;\n  orderId: string;\n  txnId: string;\n  txnDate: string;\n  amount: string;\n};\ninterface props {\n  title: string;\n  responses: Array<data>;\n  eventDate: string;\n  venue: string;\n  formId:string;\n}\n\nconst Confirmation: NextPage = () => {\n  const router = useRouter();\n  const [data, setData] = useState<props>({\n    title: '',\n    responses: [],\n    venue:\"\",\n    eventDate:\"\",\n    formId:\"\"\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n\n  const getData = async () => {\n    if (router.query.id !== undefined) {\n      try {\n        const res = await axios.get(\n          `/api/pay/confirmation?orderId=${router.query.id}`\n        );\n        setLoading(false);\n        setData(res.data);\n      } catch (err: any) {\n        setError(true);\n        setErrorMsg(\n          err.response !== undefined ? err.response.data.error : String(err)\n        );\n        // setLoading(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, [router.query.id, router.query.type]);\n\n  return (\n    <main className=\"main\">\n      <Head>\n        <title>Confirmation</title>\n        <meta name=\"description\" content=\"Generated by create next app\" />\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </Head>\n\n      <div className={styles.eventform}>\n        {error ? <Error setError={setError} msg={errorMsg} /> : null}\n        {loading ? (\n          <Loader msg=\"Loading receipt details\" />\n        ) : (\n          <div className={styles.eventform_con}>\n            <div className={styles.eventdetails}>\n              <p className={styles.eventdetails_dnt}>\n                Event Registration Confirmation\n              </p>\n              <h3 className={styles.eventdetails_title}>{data.title}</h3>\n              {data.responses !== undefined &&\n              data.responses[0].paymentStatus === 'success' ? (\n                <p className={styles.eventdetails_des}>\n                  Thank you for registering for the event. A copy of the receipt\n                  has been sent to your registered email\n                </p>\n              ) : (\n                <p className={styles.eventdetails_des}>\n                  {data.responses !== undefined &&\n                  data.responses[0].paymentStatus !== 'failed'\n                    ? 'The payment is yet to be recieved'\n                    : 'The transaction has failed'}\n                </p>\n              )}\n              {/* <p className={styles.confirm}></p> */}\n            </div>\n            <div className={styles.paymentDetails}>\n              <p className={styles.paymentDetails_title}>Payment Details</p>\n              {data.responses !== undefined ? (\n                <div className={styles.paymentDetails_grid}>\n                  {data.responses[0].orderId !== undefined ? (\n                    <>\n                      <p>Order Id</p> <p>{data.responses[0].orderId}</p>\n                    </>\n                  ) : null}\n                  {data.responses[0].txnId !== undefined ? (\n                    <>\n                      <p>Transaction Id</p>{' '}\n                      <p className={styles.txn}>{data.responses[0].txnId}</p>\n                    </>\n                  ) : null}\n                  {data.responses[0].paymentStatus !== undefined ? (\n                    <>\n                      <p>Payment Status</p>{' '}\n                      <p className={styles[data.responses[0].paymentStatus]}>\n                        {data.responses[0].paymentStatus}\n                      </p>\n                    </>\n                  ) : null}\n                  {data.responses[0].amount !== undefined ? (\n                    <>\n                      <p>Amount</p>{' '}\n                      <p>{JSON.parse(data.responses[0].amount).currency} {JSON.parse(data.responses[0].amount).amount}</p>\n                    </>\n                  ) : null}\n                  {data.responses[0].txnDate !== undefined ? (\n                    <>\n                      <p>Date and time</p>{' '}\n                      <p>\n                        {moment(data.responses[0].txnDate).format(\"D MMM YYYY h:mm:ss a\")}                   \n                      </p>\n                    </>\n                  ) : null}\n                </div>\n              ) : null}\n            </div>\n            { data.venue!==undefined ? (\n              <div className={styles.paymentDetails}>\n                <p className={styles.paymentDetails_title}>Event Details</p>\n                <div className={styles.paymentDetails_grid}>\n                  <p>Date</p>{' '}\n                  <p>{moment(data.eventDate).format(\"D MMM YYYY\")}</p>\n                  <p>Venue</p> <p>{data.venue}</p>\n                  {/* <p>Amount</p> <p>Rs 10.00</p>\n                                <p>Date</p> <p>12th Mar 2022 11:00 PM IST</p> */}\n                </div>\n              </div>\n            ) : null}\n\n            <div className={styles.buttons}>\n              <button className={styles.button} onClick={() => window.print()}>\n                Print\n              </button>\n              <button\n                className={styles.button}\n                onClick={() => router.push(`/form/${data.formId}`)}\n              >\n                Submit another\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </main>\n  );\n};\nexport default Confirmation;\n","D:\\Projects\\Github\\mint-forms\\pages\\create.tsx",["87"],[],"import type { NextPage } from 'next';\nimport ToggleButton from '../UI-Components/toggleButton';\nimport FormInput from '../UI-Components/FormInput';\nimport styles from '../styles/Create.module.css';\nimport FormsAdminLayout from '../layout/FormsAdminLayout';\nimport FormRadioButton from '../UI-Components/RadioButton';\nimport FormTextArea from '../UI-Components/FormTextArea';\nimport Select from 'react-select';\nimport { useState } from 'react';\n\ninterface dataType{\n  type: string;\n}\n\ninterface FormItemProps {\n  data: dataType;\n  index: number;\n  array: Array<MyType>;\n  setData:Function\n}\ntype MyType = {\n  type: string;\n};\ntype MyGroupType = {\n  [key: string]: MyType;\n};\ninterface CreateTypes {\n  [key: string]: Array<MyGroupType>;\n}\n\nconst FormItem: React.FunctionComponent<FormItemProps> = ({\n  data,\n  array,\n  index,\n  setData\n}) => {\n  const [type, setType] = useState('shortAnswer');\n  // console.log(data)\n\n  function deleteItem() {\n    const ind= array.indexOf(data);\n  \n    if (ind > -1) {\n      setData([array.splice(ind, 1)]); \n    }\n  }\n\n  const options = [\n    { label: 'Checkbox', value: 'choice' },\n    { label: 'Long answer', value: 'longAnswer' },\n    { label: 'Short answer', value: 'shortAnswer' },\n  ];\n\n  return (\n    <div className={styles.inputField}>\n      <div className={styles.inputField_con}>\n        <input className={styles.inputField_ques} defaultValue=\"Question\" />\n        <Select\n          options={options}\n          defaultValue={{ label: 'Short answer', value: 'shortAnswer' }}\n          onChange={(e) => {\n            setType(e!.value);\n          }}\n        />\n      </div>\n      {}\n      {type === 'shortAnswer' ? (\n        <FormInput\n          label=\"\"\n          placeholder=\"Enter your answers\"\n          onChange={() => setType('shortAnswer')}\n          value=\"HI\"\n          // name=\"DFDSFSD\"\n          errors=\"DASFA\"\n        />\n      ) : null}\n      {type === 'longAnswer' ? (\n        <FormTextArea\n          label=\"\"\n          placeholder=\"Enter your answers\"\n          onChange={() => setType('longAnswer')}\n          value=\"HI\"\n          name=\"DFDSFSD\"\n          errors=\"DASFA\"\n        />\n      ) : null}\n      {type === 'choice' ? (\n        <FormRadioButton\n          label=\"Question\"\n          checked={true}\n          onClick={() => setType('longAnswer')}\n        />\n      ) : null}\n      <div className={styles.inputField_con}>\n        <ToggleButton\n          state={false}\n          onChange={() => console.log()}\n          label=\"Required\"\n        />\n        <ToggleButton\n          state={true}\n          onChange={() => console.log()}\n          label=\"Long answer\"\n        />\n        <div onClick={()=>deleteItem()}>Remove</div>\n      </div>\n    </div>\n  );\n};\n\nconst Create: NextPage<CreateTypes> = () => {\n  const [data, setData] = useState([[{ type: 'checkbox' }]]);\n\n  return (\n    <FormsAdminLayout>\n      <div className={styles.container}>\n        <input className={styles.title} defaultValue={'Untitled Form'} />\n        {data[0].map((item, key) => (\n          <FormItem key={key} data={item} setData={setData} array={data[0]} index={key} />\n        ))}\n        <div>\n          <button\n            onClick={() => {\n              let a = data;\n              a[0].push({ type: 'shortAnswer' });\n              console.log(a);\n              setData([a[0]]);\n            }}\n          >\n            Add new\n          </button>\n        </div>\n        {/* <h6 className={styles.title}>Untitled Form</h6> */}\n      </div>\n    </FormsAdminLayout>\n  );\n};\n\nexport default Create;\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\demo.tsx",["88","89","90","91"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, useFormikContext, getIn, FormikProps } from 'formik';\nimport axios from 'axios';\nimport FormOptions from '../../UI-Components/FormOptions';\nimport { useEffect, useState, useRef } from 'react';\nimport loadScript from '../../utils/razorpayScript';\nimport { useRouter } from 'next/router';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport getIndiconPrice from '../../utils/getIndiconPrice';\nimport { getPaperPrice, getPaperSinglePrice } from '../../utils/getPaperPrice';\nimport {\n  getExtraPagesPrice,\n  getNumOfAdditionalPages,\n  getSingleAdditionalPagePrice,\n} from '../../utils/getExtraPagesPrice';\nimport getTotalPrice from '../../utils/getTotalPrice';\nimport buildForm from '../../utils/buildForm';\nimport Head from 'next/head';\nimport displayPaytm from '../../utils/displayPaytm';\nimport PhoneSelector from '../../UI-Components/PhoneSelector';\nimport FormSelect from '../../UI-Components/FormSelect';\nimport FormIEEE from '../../UI-Components/FormIEEE';\nimport getCountryList from '../../utils/getCountryList';\nimport * as yup from 'yup';\n\nconst Form: NextPage = () => {\n  const router = useRouter();\n  const [authorPrice, setAuthorPrice] = useState(9000);\n  const [addPapers, setAddPapers] = useState(0);\n  const [pages, setPages] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n\n  const [initialVal, setIntialVal] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    ieeeMember: '',\n    membershipId: '',\n    validIEEE: '',\n    address: '',\n    gender: '',\n    country: '',\n    state: '',\n    pincode: '',\n    food: '',\n    institute: '',\n    designation: '',\n    category: '',\n    papers: '1',\n    paperId1: '',\n    extraPage1: '',\n    paperId2: '',\n    extraPage2: '',\n    paperId3: '',\n    extraPage3: '',\n    passport: '',\n  });\n  // const [initialVal, setIntialVal] = useState({\n  //   name: 'Test ',\n  //   email: 'abhijithkannan452@gmail.com',\n  //   phone: '+917025263554',\n  //   ieeeMember: 'No',\n  //   validIEEE: '',\n  //   institute: 'CEK',\n  //   designation: 'CEK',\n  //   address: 'XYZ Houser',\n  //   gender: 'Male',\n  //   country: 'India',\n  //   state: 'Kerala',\n  //   pincode: '686019',\n  //   food: 'Veg',\n  //   category: 'Indian Author (Academia)',\n  //   paperId1: 'asdas',\n  //   extraPage1: 'Not applicable',\n  //   paperId2: '',\n  //   extraPage2: '',\n  //   paperId3: '',\n  //   extraPage3: '',\n  //   papers: '1',\n  // });\n\n  let schema = yup.object().shape({\n    name: yup.string().required(),\n    email: yup.string().required().email(),\n    phone: yup.string().required(),\n    ieeeMember: yup.string().required(),\n    validIEEE: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required('Verify membership ID'),\n    }),\n    address: yup.string().required(),\n    gender: yup.string().required(),\n    country: yup.string().required(),\n    state: yup.string().required(),\n    food: yup.string().required(),\n    pincode: yup.string().required(),\n    institute: yup.string().required(),\n    designation: yup.string().required(),\n    category: yup.string().required(),\n    paperId1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required(),\n    }),\n    extraPage1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required('Required'),\n    }),\n    paperId2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    extraPage2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    paperId3: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 3,\n      then: yup.string().required(),\n    }),\n    extraPage3: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 3,\n      then: yup.string().required('Required'),\n    }),\n    papers: yup.string().required(),\n    membershipId: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required(),\n    }),\n    passport: yup.string().when('category', {\n      is: (category: any) =>\n        category !== undefined && category.includes('Foreign'),\n      then: yup.string().required(),\n    }),\n  });\n\n  const PriceUpdater: Function = () => {\n    const { values, setFieldValue } = useFormikContext<any>();\n    const didMount = useRef(false);\n    useEffect(() => {\n      if (didMount.current) {\n        if (values.papers === 'Not applicable') {\n          setFieldValue('paperId1', '');\n          setFieldValue('paperId2', '');\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage1', '');\n          setFieldValue('extraPage2', '');\n          setFieldValue('extraPage3', '');\n        }\n        if (Number(values.papers) === 1) {\n          setFieldValue('paperId2', '');\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage2', '');\n          setFieldValue('extraPage3', '');\n        }\n        if (Number(values.papers) === 2) {\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage3', '');\n        }\n\n        setAuthorPrice(getIndiconPrice(values));\n        setAddPapers(getPaperPrice(values));\n        setPages(getExtraPagesPrice(values));\n        console.log(getPaperPrice(values));\n      } else {\n        didMount.current = true;\n      }\n    }, [\n      values.papers,\n      values.ieeeMember,\n      values.category,\n      values.extraPage1,\n      values.extraPage2,\n      values.extraPage3,\n    ]);\n  };\n  async function displayRazorPay(data: any, values: any) {\n    const res = await loadScript();\n\n    if (!res) {\n      alert('Razorpay SDK failed to load. Are you online?');\n      return;\n    }\n\n    const options = {\n      key: data.key,\n      currency: data.currency,\n      amount: String(data.amount),\n      order_id: data.id,\n      name: 'Indicon 2022',\n      description: 'Thank you for registering',\n\n      handler: async (response: any) => {\n        try {\n          await axios.post(\n            `/api/pay/razorpay/verify?formId=demo&orderId=${response.razorpay_order_id}`,\n            response\n          );\n          router.push(`/confirmation/${response.razorpay_order_id}`);\n        } catch (err: any) {\n          setError(true);\n          setErrorMsg(\n            err.response !== undefined ? err.response.data.error : err\n          );\n          setLoading(false);\n        }\n      },\n      prefill: {\n        name: `${values.name}`,\n        email: values.email,\n        contact: `${values.phone}`,\n      },\n    };\n    const paymentObject = new (window as any).Razorpay(options);\n    paymentObject.open();\n    paymentObject.on('payment.failed', async (response: any) => {\n      try {\n        await axios.post(\n          `/api/pay/razorpay/failed?formId=demo`,\n          response.error\n        );\n        router.push(`/confirmation/${response.error.metadata.order_id}`);\n        paymentObject.close();\n      } catch (err: any) {\n        setError(true);\n        setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n        setLoading(false);\n      }\n    });\n  }\n  const handleAxiosError = (err: any) => {\n    setError(true);\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    setLoading(false);\n  };\n\n  const handleUpload = async (values: any) => {\n    setIntialVal(values);\n    setLoading(true);\n    try {\n      var data = values;\n      data.membershipType = values.ieeeMember\n        ? 'IEEE Member'\n        : 'Non IEEE Member';\n      data.amount = JSON.stringify({\n        currency: values.category.includes('Foreign') ? 'USD' : 'INR',\n        amount: getTotalPrice(authorPrice + addPapers + pages, values),\n      });\n\n      const formData = buildForm(data);\n\n    \n        const res = await axios.post(\n          '/api/pay/paytm?formId=demo',\n          formData,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          }\n        );\n\n        displayPaytm(res.data);\n     \n    } catch (err: any) {\n      handleAxiosError(err);\n    }\n  };\n\n  const catgory =\n    process.env.NODE_ENV === 'production'\n      ? [\n          'Indian Author (Academia)',\n          'Indian Author (Industry)',\n          'Indian Student Author',\n          'Indian Non-Author Attendee',\n          'Foreign Author',\n          'Foreign Student Author',\n        ]\n      : [\n          'Indian Author (Academia)',\n          'Indian Author (Industry)',\n          'Indian Student Author',\n          'Indian Non-Author Attendee',\n          'Indian Test Category',\n          'Foreign Author',\n          'Foreign Student Author',\n          'Foreign Test Category',\n        ];\n\n  return (\n    <div className={styles.form}>\n      <Head>\n        <title>Demo</title>\n      </Head>\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : (\n        <div className={styles.formContainer}>\n          <img className={styles.formBanner} src=\"/indicon2.png\" />\n          <div className={styles.formDetails}>\n            <p className={styles.subTitle}>REGISTRATION FORM</p>\n            <h1 className={styles.formTitle}>DEMO</h1>\n            {/* <p className={styles.formDescription}>\n              To ride a vehicle I worked on back home in New Zealand has always\n              been a dream, to share it with so many like minded people at\n              Ducati Owners Club NZ is even better. Credit to Aaron Staples for\n              the great shots.\n            </p> */}\n          </div>\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\n\n          <div className={styles.formContent}>\n            <Formik\n              initialValues={initialVal}\n              validationSchema={schema}\n              onSubmit={(values) => handleUpload(values)}\n            >\n              {({\n                values,\n                errors,\n                handleSubmit,\n                setFieldValue,\n              }: FormikProps<any>) => (\n                <div>\n                  <FormInput\n                    label=\"Full name *\"\n                    placeholder=\"Enter your name\"\n                    value={values.name}\n                    onChange={(e: any) => setFieldValue('name', e.target.value)}\n                    errors={\n                      getIn(errors, 'name') !== undefined\n                        ? getIn(errors, 'name')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Email *\"\n                    placeholder=\"Enter your email\"\n                    value={values.email}\n                    onChange={(e: any) =>\n                      setFieldValue('email', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'email') !== undefined\n                        ? getIn(errors, 'email')\n                        : ''\n                    }\n                  />\n\n                  <PhoneSelector\n                    label=\"Phone *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.phone}\n                    onChange={(e: any) => setFieldValue('phone', e)}\n                    errors={\n                      getIn(errors, 'phone') !== undefined\n                        ? getIn(errors, 'phone')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Gender*\"\n                    options={['Male', 'Female']}\n                    value={values.gender}\n                    onChange={(e: any) => setFieldValue('gender', e)}\n                    errors={\n                      getIn(errors, 'gender') !== undefined\n                        ? getIn(errors, 'gender')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Permanent address *\"\n                    placeholder=\"Enter your permanent address\"\n                    value={values.address}\n                    onChange={(e: any) =>\n                      setFieldValue('address', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'address') !== undefined\n                        ? getIn(errors, 'address')\n                        : ''\n                    }\n                  />\n                  <FormSelect\n                    label=\"Country *\"\n                    options={getCountryList}\n                    value={{ label: values.country, value: values.country }}\n                    onChange={(e: any) => setFieldValue('country', e.value)}\n                    errors={\n                      getIn(errors, 'country') !== undefined\n                        ? getIn(errors, 'country')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"State/Province *\"\n                    placeholder=\"Enter your state or province\"\n                    value={values.state}\n                    onChange={(e: any) =>\n                      setFieldValue('state', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'state') !== undefined\n                        ? getIn(errors, 'state')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Pincode *\"\n                    placeholder=\"Enter your pincode\"\n                    value={values.pincode}\n                    onChange={(e: any) =>\n                      setFieldValue('pincode', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'pincode') !== undefined\n                        ? getIn(errors, 'pincode')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Institute *\"\n                    placeholder=\"Enter your institution\"\n                    value={values.institute}\n                    onChange={(e: any) =>\n                      setFieldValue('institute', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'institute') !== undefined\n                        ? getIn(errors, 'institute')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Designation *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.designation}\n                    onChange={(e: any) =>\n                      setFieldValue('designation', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'designation') !== undefined\n                        ? getIn(errors, 'designation')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Are you an IEEE Member*\"\n                    options={['Yes', 'No']}\n                    value={values.ieeeMember}\n                    onChange={(e: any) => setFieldValue('ieeeMember', e)}\n                    errors={\n                      getIn(errors, 'ieeeMember') !== undefined\n                        ? getIn(errors, 'ieeeMember')\n                        : ''\n                    }\n                  />\n                  <FormIEEE\n                    label=\"If yes, enter your membership ID\"\n                    placeholder=\"Enter your IEEE Membership ID \"\n                    value={values.membershipId}\n                    onChange={(e: any) =>\n                      setFieldValue('membershipId', e.target.value)\n                    }\n                    onChangeValid={(e: any) => setFieldValue('validIEEE', e)}\n                    errors={\n                      getIn(errors, 'membershipId') !== undefined\n                        ? getIn(errors, 'membershipId')\n                        : ''\n                    }\n                    vaildError={\n                      getIn(errors, 'validIEEE') !== undefined\n                        ? getIn(errors, 'validIEEE')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Food preference *\"\n                    options={['Veg', 'Non Veg']}\n                    value={values.food}\n                    onChange={(e: any) => setFieldValue('food', e)}\n                    errors={\n                      getIn(errors, 'food') !== undefined\n                        ? getIn(errors, 'food')\n                        : ''\n                    }\n                  />\n\n                  <FormOptions\n                    label=\"Number of papers*\"\n                    options={['1', '2', '3', 'Not applicable']}\n                    value={values.papers}\n                    onChange={(e: any) => setFieldValue('papers', e)}\n                    errors={\n                      getIn(errors, 'papers') !== undefined\n                        ? getIn(errors, 'papers')\n                        : ''\n                    }\n                  />\n                  {Number(values.papers) > 0 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 1*\"\n                        placeholder=\"Enter your paper id 1\"\n                        value={values.paperId1}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId1', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId1') !== undefined\n                            ? getIn(errors, 'paperId1')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 1 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage1}\n                        onChange={(e: any) => setFieldValue('extraPage1', e)}\n                        errors={\n                          getIn(errors, 'extraPage1') !== undefined\n                            ? getIn(errors, 'extraPage1')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 2 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 2*\"\n                        placeholder=\"Enter your paper id 2\"\n                        value={values.paperId2}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId2', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId2') !== undefined\n                            ? getIn(errors, 'paperId2')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 2 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage2}\n                        onChange={(e: any) => setFieldValue('extraPage2', e)}\n                        errors={\n                          getIn(errors, 'extraPage2') !== undefined\n                            ? getIn(errors, 'extraPage2')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 3 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 3*\"\n                        placeholder=\"Enter your paper id 3\"\n                        value={values.paperId3}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId3', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId3') !== undefined\n                            ? getIn(errors, 'paperId3')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 3 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage3}\n                        onChange={(e: any) => setFieldValue('extraPage3', e)}\n                        errors={\n                          getIn(errors, 'extraPage3') !== undefined\n                            ? getIn(errors, 'extraPage3')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  <FormOptions\n                    label=\"Category *\"\n                    options={catgory}\n                    value={values.category}\n                    onChange={(e: any) => setFieldValue('category', e)}\n                    errors={\n                      getIn(errors, 'category') !== undefined\n                        ? getIn(errors, 'category')\n                        : ''\n                    }\n                  />\n                  {values.category !== undefined &&\n                  values.category.includes('Foreign') ? (\n                    <FormInput\n                      label=\"Passport number *\"\n                      placeholder=\"Enter your passport number\"\n                      value={values.passport}\n                      onChange={(e: any) =>\n                        setFieldValue('passport', e.target.value)\n                      }\n                      errors={\n                        getIn(errors, 'passport') !== undefined\n                          ? getIn(errors, 'passport')\n                          : ''\n                      }\n                    />\n                  ) : null}\n\n                  <PriceUpdater />\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on chosen catgory\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {authorPrice}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on number of the additional papers\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {`${getPaperSinglePrice(values)} * ${\n                      isNaN(values.papers) ? 0 : Number(values.papers) - 1\n                    } = `}\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {addPapers}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on additional pages for each paper\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {`${getSingleAdditionalPagePrice(\n                      values\n                    )} * ${getNumOfAdditionalPages(values)} = `}\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {pages}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>Amount to be paid</h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {authorPrice + addPapers + pages}\n                  </h5>\n                  <h4 className={styles.priceLabel}>\n                    Total amount (\n                    <i>\n                      18% GST and{' '}\n                      {values.category.includes('Foreign') ? '3.2%' : '2.2%'}{' '}\n                      convenience fee included\n                    </i>\n                    )\n                  </h4>\n                  <h5 className={styles.price}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {getTotalPrice(authorPrice + addPapers + pages, values)}\n                  </h5>\n                  <br />\n                  {/* {JSON.stringify(errors, null, 2)} */}\n                  <button\n                    className={styles.button}\n                    type=\"submit\"\n                    onClick={() => handleSubmit()}\n                  >\n                    SUBMIT\n                  </button>\n                </div>\n              )}\n            </Formik>\n\n            <footer className={styles.footer}>\n              <p>\n                This content is created by the owner of the form. The data you\n                submit will be sent to the form owner. IEEE Kerala Section is\n                not responsible for the privacy or security practices of its\n                customers, including those of this form owner. Never give out\n                your password.\n              </p>\n              <br />\n              Powered by IKS Mint Forms |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n                Privacy and cookies\n              </a>{' '}\n              |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n                Terms of use\n              </a>\n            </footer>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\dynamic.tsx",["92","93"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, getIn, FormikProps } from 'formik';\nimport generateFormIntialValues from '../../utils/generateFormIntialValues.js';\n\ntype typeStructure = {\n  componentId: string;\n  type: string;\n  label: string;\n  required: boolean;\n  validate: string;\n};\ninterface typeFormInfo {\n  title: string;\n  description: string;\n  subTitle: string;\n  banner: string;\n  structure: Array<typeStructure[]>;\n}\n\nconst Form: NextPage = () => {\n  const formInfo: typeFormInfo = {\n    title: '',\n    description: '',\n    subTitle: '',\n    banner: '',\n    structure: [\n      [\n        {\n          componentId: 'G363944IPGU',\n          type: 'input',\n          label: 'Full name',\n          required: true,\n          validate: 'string',\n        },\n        {\n          componentId: 'G3639446954',\n          type: 'input',\n          label: 'Email',\n          required: true,\n          validate: 'string',\n        },\n        {\n          componentId: 'G36sd6449848',\n          type: 'input',\n          label: 'Phone number',\n          required: true,\n          validate: 'string',\n        },\n        {\n          componentId: 'G36UI4854178',\n          type: 'input',\n          label: 'Institution',\n          required: true,\n          validate: 'string',\n        },\n        {\n          componentId: 'G36MBVFK86368',\n          type: 'input',\n          label: 'Designation',\n          required: true,\n          validate: 'string',\n        }\n      ],\n    ],\n  };\n\n  return (\n    <div className={styles.form}>\n      <div className={styles.formContainer}>\n        <img className={styles.formBanner} src=\"/banner.jpeg\" />\n        <div className={styles.formDetails}>\n          <p className={styles.subTitle}>REGISTRATION FORM</p>\n          <h1 className={styles.formTitle}>IEEE Job Fair</h1>\n          <p className={styles.formDescription}>\n            To ride a vehicle I worked on back home in New Zealand has always\n            been a dream, to share it with so many like minded people at Ducati\n            Owners Club NZ is even better. Credit to Aaron Staples for the great\n            shots.\n          </p>\n        </div>\n        <div className={styles.formContent}>\n          <Formik\n            initialValues={generateFormIntialValues(formInfo.structure)}\n            onSubmit={() => console.log(generateFormIntialValues(formInfo.structure))}\n          >\n            {({\n              values,\n              errors,\n              handleSubmit,\n              setFieldValue,\n            }: FormikProps<any>) => (\n              <div>\n                {formInfo.structure[0].map((item, key) => (\n                  <div key={key}>\n                    {item.type === 'input' ? (\n                      <FormInput\n                        label={item.label}\n                        placeholder=\"\"\n                        value={values[item.componentId]}\n                        onChange={(e: any) =>\n                          setFieldValue(item.componentId, e.target.value)\n                        }\n                        errors={\n                          getIn(errors, item.componentId) !== undefined\n                            ? getIn(errors, item.componentId) !== undefined\n                            : ''\n                        }\n                      />\n                    ) : null}\n                  </div>\n                ))}\n                {JSON.stringify(values, null, 2)}\n                <button\n                  className={styles.button}\n                  type=\"submit\"\n                  onClick={() => handleSubmit()}\n                >\n                  SUBMIT\n                </button>\n              </div>\n            )}\n          </Formik>\n\n          <footer className={styles.footer}>\n            <p>\n              This content is created by the owner of the form. The data you\n              submit will be sent to the form owner. IEEE Kerala Section is not\n              responsible for the privacy or security practices of its\n              customers, including those of this form owner. Never give out your\n              password.\n            </p>\n            <br />\n            Powered by IKS Mint Forms |{' '}\n            <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n              Privacy and cookies\n            </a>{' '}\n            |{' '}\n            <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n              Terms of use\n            </a>\n          </footer>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Form;\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\indicon2022.tsx",["94","95","96"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, useFormikContext, getIn, FormikProps } from 'formik';\nimport axios from 'axios';\nimport FormOptions from '../../UI-Components/FormOptions';\nimport { useEffect, useState, useRef } from 'react';\nimport loadScript from '../../utils/razorpayScript';\nimport { useRouter } from 'next/router';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport getIndiconPrice from '../../utils/getIndiconPrice';\nimport { getPaperPrice, getPaperSinglePrice } from '../../utils/getPaperPrice';\nimport {\n  getExtraPagesPrice,\n  getNumOfAdditionalPages,\n  getSingleAdditionalPagePrice,\n} from '../../utils/getExtraPagesPrice';\nimport getTotalPrice from '../../utils/getTotalPrice';\nimport buildForm from '../../utils/buildForm';\nimport Head from 'next/head';\nimport displayPaytm from '../../utils/displayPaytm';\nimport PhoneSelector from '../../UI-Components/PhoneSelector';\nimport FormSelect from '../../UI-Components/FormSelect';\nimport FormIEEE from '../../UI-Components/FormIEEE';\nimport getCountryList from '../../utils/getCountryList';\nimport * as yup from 'yup';\n\nconst Form: NextPage = () => {\n  const router = useRouter();\n  const [authorPrice, setAuthorPrice] = useState(9000);\n  const [addPapers, setAddPapers] = useState(0);\n  const [pages, setPages] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n\n  const [initialVal, setIntialVal] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    ieeeMember: '',\n    membershipId: '',\n    validIEEE: '',\n    address: '',\n    gender: '',\n    country: '',\n    state: '',\n    pincode: '',\n    food: '',\n    institute: '',\n    designation: '',\n    category: '',\n    papers: '1',\n    paperId1: '',\n    extraPage1: '',\n    paperId2: '',\n    extraPage2: '',\n    paperId3: '',\n    extraPage3: '',\n    passport: '',\n  });\n  // const [initialVal, setIntialVal] = useState({\n  //   name: 'Test ',\n  //   email: 'abhijithkannan452@gmail.com',\n  //   phone: '+917025263554',\n  //   ieeeMember: 'No',\n  //   validIEEE: '',\n  //   institute: 'CEK',\n  //   designation: 'CEK',\n  //   address: 'XYZ Houser',\n  //   gender: 'Male',\n  //   country: 'India',\n  //   state: 'Kerala',\n  //   pincode: '686019',\n  //   food: 'Veg',\n  //   category: 'Indian Author (Academia)',\n  //   paperId1: 'asdas',\n  //   extraPage1: 'Not applicable',\n  //   paperId2: '',\n  //   extraPage2: '',\n  //   paperId3: '',\n  //   extraPage3: '',\n  //   papers: '1',\n  // });\n\n  let schema = yup.object().shape({\n    name: yup.string().required(),\n    email: yup.string().required().email(),\n    phone: yup.string().required(),\n    ieeeMember: yup.string().required(),\n    validIEEE: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required('Verify membership ID'),\n    }),\n    address: yup.string().required(),\n    gender: yup.string().required(),\n    country: yup.string().required(),\n    state: yup.string().required(),\n    food: yup.string().required(),\n    pincode: yup.string().required(),\n    institute: yup.string().required(),\n    designation: yup.string().required(),\n    category: yup.string().required(),\n    paperId1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required(),\n    }),\n    extraPage1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required('Required'),\n    }),\n    paperId2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    extraPage2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    paperId3: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 3,\n      then: yup.string().required(),\n    }),\n    extraPage3: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 3,\n      then: yup.string().required('Required'),\n    }),\n    papers: yup.string().required(),\n    membershipId: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required(),\n    }),\n    passport: yup.string().when('category', {\n      is: (category: any) =>\n        category !== undefined && category.includes('Foreign'),\n      then: yup.string().required(),\n    }),\n  });\n\n  const PriceUpdater: Function = () => {\n    const { values, setFieldValue } = useFormikContext<any>();\n    const didMount = useRef(false);\n    useEffect(() => {\n      if (didMount.current) {\n        if (values.papers === 'Not applicable') {\n          setFieldValue('paperId1', '');\n          setFieldValue('paperId2', '');\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage1', '');\n          setFieldValue('extraPage2', '');\n          setFieldValue('extraPage3', '');\n        }\n        if (Number(values.papers) === 1) {\n          setFieldValue('paperId2', '');\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage2', '');\n          setFieldValue('extraPage3', '');\n        }\n        if (Number(values.papers) === 2) {\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage3', '');\n        }\n\n        setAuthorPrice(getIndiconPrice(values));\n        setAddPapers(getPaperPrice(values));\n        setPages(getExtraPagesPrice(values));\n        console.log(getPaperPrice(values));\n      } else {\n        didMount.current = true;\n      }\n    }, [\n      values.papers,\n      values.ieeeMember,\n      values.category,\n      values.extraPage1,\n      values.extraPage2,\n      values.extraPage3,\n    ]);\n  };\n  async function displayRazorPay(data: any, values: any) {\n    const res = await loadScript();\n\n    if (!res) {\n      alert('Razorpay SDK failed to load. Are you online?');\n      return;\n    }\n\n    const options = {\n      key: data.key,\n      currency: data.currency,\n      amount: String(data.amount),\n      order_id: data.id,\n      name: 'Indicon 2022',\n      description: 'Thank you for registering',\n\n      handler: async (response: any) => {\n        try {\n          await axios.post(\n            `/api/pay/razorpay/verify?formId=indicon2022&orderId=${response.razorpay_order_id}`,\n            response\n          );\n          router.push(`/confirmation/${response.razorpay_order_id}`);\n        } catch (err: any) {\n          setError(true);\n          setErrorMsg(\n            err.response !== undefined ? err.response.data.error : err\n          );\n          setLoading(false);\n        }\n      },\n      prefill: {\n        name: `${values.name}`,\n        email: values.email,\n        contact: `${values.phone}`,\n      },\n    };\n    const paymentObject = new (window as any).Razorpay(options);\n    paymentObject.open();\n    paymentObject.on('payment.failed', async (response: any) => {\n      try {\n        await axios.post(\n          `/api/pay/razorpay/failed?formId=indicon2022`,\n          response.error\n        );\n        router.push(`/confirmation/${response.error.metadata.order_id}`);\n        paymentObject.close();\n      } catch (err: any) {\n        setError(true);\n        setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n        setLoading(false);\n      }\n    });\n  }\n  const handleAxiosError = (err: any) => {\n    setError(true);\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    setLoading(false);\n  };\n\n  const handleUpload = async (values: any) => {\n    setIntialVal(values);\n    setLoading(true);\n    try {\n      var data = values;\n      data.membershipType = values.ieeeMember\n        ? 'IEEE Member'\n        : 'Non IEEE Member';\n      data.amount = JSON.stringify({\n        currency: values.category.includes('Foreign') ? 'USD' : 'INR',\n        amount: getTotalPrice(authorPrice + addPapers + pages, values),\n      });\n\n      const formData = buildForm(data);\n\n      if (values.category.includes('Foreign')) {\n        const res = await axios.post(\n          '/api/pay/razorpay?formId=indicon2022',\n          formData,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          }\n        );\n\n        displayRazorPay(res.data, values);\n      } else {\n        const res = await axios.post(\n          '/api/pay/paytm?formId=indicon2022',\n          formData,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          }\n        );\n\n        displayPaytm(res.data);\n      }\n    } catch (err: any) {\n      handleAxiosError(err);\n    }\n  };\n\n  const catgory =\n    process.env.NODE_ENV === 'production'\n      ? [\n          'Indian Author (Academia)',\n          'Indian Author (Industry)',\n          'Indian Student Author',\n          'Indian Non-Author Attendee',\n          'Foreign Author',\n          'Foreign Student Author',\n        ]\n      : [\n          'Indian Author (Academia)',\n          'Indian Author (Industry)',\n          'Indian Student Author',\n          'Indian Non-Author Attendee',\n          'Indian Test Category',\n          'Foreign Author',\n          'Foreign Student Author',\n          'Foreign Test Category',\n        ];\n\n  return (\n    <div className={styles.form}>\n      <Head>\n        <title>Indicon 2022</title>\n      </Head>\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : (\n        <div className={styles.formContainer}>\n          <img className={styles.formBanner} src=\"/indicon2.png\" />\n          <div className={styles.formDetails}>\n            <p className={styles.subTitle}>REGISTRATION FORM</p>\n            <h1 className={styles.formTitle}>INDICON 2022</h1>\n            {/* <p className={styles.formDescription}>\n              To ride a vehicle I worked on back home in New Zealand has always\n              been a dream, to share it with so many like minded people at\n              Ducati Owners Club NZ is even better. Credit to Aaron Staples for\n              the great shots.\n            </p> */}\n          </div>\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\n\n          <div className={styles.formContent}>\n            <Formik\n              initialValues={initialVal}\n              validationSchema={schema}\n              onSubmit={(values) => handleUpload(values)}\n            >\n              {({\n                values,\n                errors,\n                handleSubmit,\n                setFieldValue,\n              }: FormikProps<any>) => (\n                <div>\n                  <FormInput\n                    label=\"Full name *\"\n                    placeholder=\"Enter your name\"\n                    value={values.name}\n                    onChange={(e: any) => setFieldValue('name', e.target.value)}\n                    errors={\n                      getIn(errors, 'name') !== undefined\n                        ? getIn(errors, 'name')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Email *\"\n                    placeholder=\"Enter your email\"\n                    value={values.email}\n                    onChange={(e: any) =>\n                      setFieldValue('email', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'email') !== undefined\n                        ? getIn(errors, 'email')\n                        : ''\n                    }\n                  />\n\n                  <PhoneSelector\n                    label=\"Phone *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.phone}\n                    onChange={(e: any) => setFieldValue('phone', e)}\n                    errors={\n                      getIn(errors, 'phone') !== undefined\n                        ? getIn(errors, 'phone')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Gender*\"\n                    options={['Male', 'Female']}\n                    value={values.gender}\n                    onChange={(e: any) => setFieldValue('gender', e)}\n                    errors={\n                      getIn(errors, 'gender') !== undefined\n                        ? getIn(errors, 'gender')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Permanent address *\"\n                    placeholder=\"Enter your permanent address\"\n                    value={values.address}\n                    onChange={(e: any) =>\n                      setFieldValue('address', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'address') !== undefined\n                        ? getIn(errors, 'address')\n                        : ''\n                    }\n                  />\n                  <FormSelect\n                    label=\"Country *\"\n                    options={getCountryList}\n                    value={{ label: values.country, value: values.country }}\n                    onChange={(e: any) => setFieldValue('country', e.value)}\n                    errors={\n                      getIn(errors, 'country') !== undefined\n                        ? getIn(errors, 'country')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"State/Province *\"\n                    placeholder=\"Enter your state or province\"\n                    value={values.state}\n                    onChange={(e: any) =>\n                      setFieldValue('state', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'state') !== undefined\n                        ? getIn(errors, 'state')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Pincode *\"\n                    placeholder=\"Enter your pincode\"\n                    value={values.pincode}\n                    onChange={(e: any) =>\n                      setFieldValue('pincode', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'pincode') !== undefined\n                        ? getIn(errors, 'pincode')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Institute *\"\n                    placeholder=\"Enter your institution\"\n                    value={values.institute}\n                    onChange={(e: any) =>\n                      setFieldValue('institute', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'institute') !== undefined\n                        ? getIn(errors, 'institute')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Designation *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.designation}\n                    onChange={(e: any) =>\n                      setFieldValue('designation', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'designation') !== undefined\n                        ? getIn(errors, 'designation')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Are you an IEEE Member*\"\n                    options={['Yes', 'No']}\n                    value={values.ieeeMember}\n                    onChange={(e: any) => setFieldValue('ieeeMember', e)}\n                    errors={\n                      getIn(errors, 'ieeeMember') !== undefined\n                        ? getIn(errors, 'ieeeMember')\n                        : ''\n                    }\n                  />\n                  <FormIEEE\n                    label=\"If yes, enter your membership ID\"\n                    placeholder=\"Enter your IEEE Membership ID \"\n                    value={values.membershipId}\n                    onChange={(e: any) =>\n                      setFieldValue('membershipId', e.target.value)\n                    }\n                    onChangeValid={(e: any) => setFieldValue('validIEEE', e)}\n                    errors={\n                      getIn(errors, 'membershipId') !== undefined\n                        ? getIn(errors, 'membershipId')\n                        : ''\n                    }\n                    vaildError={\n                      getIn(errors, 'validIEEE') !== undefined\n                        ? getIn(errors, 'validIEEE')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Food preference *\"\n                    options={['Veg', 'Non Veg']}\n                    value={values.food}\n                    onChange={(e: any) => setFieldValue('food', e)}\n                    errors={\n                      getIn(errors, 'food') !== undefined\n                        ? getIn(errors, 'food')\n                        : ''\n                    }\n                  />\n\n                  <FormOptions\n                    label=\"Number of papers*\"\n                    options={['1', '2', '3', 'Not applicable']}\n                    value={values.papers}\n                    onChange={(e: any) => setFieldValue('papers', e)}\n                    errors={\n                      getIn(errors, 'papers') !== undefined\n                        ? getIn(errors, 'papers')\n                        : ''\n                    }\n                  />\n                  {Number(values.papers) > 0 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 1*\"\n                        placeholder=\"Enter your paper id 1\"\n                        value={values.paperId1}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId1', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId1') !== undefined\n                            ? getIn(errors, 'paperId1')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 1 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage1}\n                        onChange={(e: any) => setFieldValue('extraPage1', e)}\n                        errors={\n                          getIn(errors, 'extraPage1') !== undefined\n                            ? getIn(errors, 'extraPage1')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 2 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 2*\"\n                        placeholder=\"Enter your paper id 2\"\n                        value={values.paperId2}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId2', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId2') !== undefined\n                            ? getIn(errors, 'paperId2')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 2 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage2}\n                        onChange={(e: any) => setFieldValue('extraPage2', e)}\n                        errors={\n                          getIn(errors, 'extraPage2') !== undefined\n                            ? getIn(errors, 'extraPage2')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 3 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 3*\"\n                        placeholder=\"Enter your paper id 3\"\n                        value={values.paperId3}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId3', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId3') !== undefined\n                            ? getIn(errors, 'paperId3')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 3 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage3}\n                        onChange={(e: any) => setFieldValue('extraPage3', e)}\n                        errors={\n                          getIn(errors, 'extraPage3') !== undefined\n                            ? getIn(errors, 'extraPage3')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  <FormOptions\n                    label=\"Category *\"\n                    options={catgory}\n                    value={values.category}\n                    onChange={(e: any) => setFieldValue('category', e)}\n                    errors={\n                      getIn(errors, 'category') !== undefined\n                        ? getIn(errors, 'category')\n                        : ''\n                    }\n                  />\n                  {values.category !== undefined &&\n                  values.category.includes('Foreign') ? (\n                    <FormInput\n                      label=\"Passport number *\"\n                      placeholder=\"Enter your passport number\"\n                      value={values.passport}\n                      onChange={(e: any) =>\n                        setFieldValue('passport', e.target.value)\n                      }\n                      errors={\n                        getIn(errors, 'passport') !== undefined\n                          ? getIn(errors, 'passport')\n                          : ''\n                      }\n                    />\n                  ) : null}\n\n                  <PriceUpdater />\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on chosen catgory\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {authorPrice}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on number of the additional papers\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {`${getPaperSinglePrice(values)} * ${\n                      isNaN(values.papers) ? 0 : Number(values.papers) - 1\n                    } = `}\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {addPapers}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on additional pages for each paper\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {`${getSingleAdditionalPagePrice(\n                      values\n                    )} * ${getNumOfAdditionalPages(values)} = `}\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {pages}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>Amount to be paid</h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {authorPrice + addPapers + pages}\n                  </h5>\n                  <h4 className={styles.priceLabel}>\n                    Total amount (\n                    <i>\n                      18% GST and{' '}\n                      {values.category.includes('Foreign') ? '3.2%' : '2.2%'}{' '}\n                      convenience fee included\n                    </i>\n                    )\n                  </h4>\n                  <h5 className={styles.price}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {getTotalPrice(authorPrice + addPapers + pages, values)}\n                  </h5>\n                  <br />\n                  {/* {JSON.stringify(errors, null, 2)} */}\n                  <button\n                    className={styles.button}\n                    type=\"submit\"\n                    onClick={() => handleSubmit()}\n                  >\n                    SUBMIT\n                  </button>\n                </div>\n              )}\n            </Formik>\n\n            <footer className={styles.footer}>\n              <p>\n                This content is created by the owner of the form. The data you\n                submit will be sent to the form owner. IEEE Kerala Section is\n                not responsible for the privacy or security practices of its\n                customers, including those of this form owner. Never give out\n                your password.\n              </p>\n              <br />\n              Powered by IKS Mint Forms |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n                Privacy and cookies\n              </a>{' '}\n              |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n                Terms of use\n              </a>\n            </footer>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\pedes2022.tsx",["97","98","99","100","101"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, useFormikContext, getIn, FormikProps } from 'formik';\nimport axios from 'axios';\nimport FormOptions from '../../UI-Components/FormOptions';\nimport { useEffect, useState, useRef } from 'react';\nimport loadScript from '../../utils/razorpayScript';\nimport { useRouter } from 'next/router';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport buildForm from '../../utils/buildForm';\nimport Head from 'next/head';\nimport displayPaytm from '../../utils/displayPaytm';\nimport PhoneSelector from '../../UI-Components/PhoneSelector';\nimport FormSelect from '../../UI-Components/FormSelect';\nimport FormIEEE from '../../UI-Components/FormIEEE';\nimport getCountryList from '../../utils/getCountryList';\nimport { getPedesPrice, getExtraPagesPrice2 } from '../../utils/getPedesPrice';\nimport * as yup from 'yup';\nimport getTotalPrice from '../../utils/getTotalPrice';\n\nconst Form: NextPage = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n  const [pages, setPages] = useState(0);\n  const [initialVal, setIntialVal] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    ieeeMember: '',\n    membershipId: '',\n    validIEEE: '',\n    citizen: '',\n    address: '',\n    gender: '',\n    country: '',\n    state: '',\n    pincode: '',\n    food: '',\n    institute: '',\n    designation: '',\n    category: '',\n    presentation:'',\n    papers: '1',\n    paperId1: '',\n    paperId2: '',\n  });\n  // const [initialVal, setIntialVal] = useState({\n  //   name: 'Test ',\n  //   email: 'abhijithkannan452@gmail.com',\n  //   phone: '+917025263554',\n  //   ieeeMember: 'No',\n  //   validIEEE: '',\n  //   institute: 'CEK',\n  //   designation: 'CEK',\n  //   address: 'XYZ Houser',\n  //   gender: 'Male',\n  //   country: 'India',\n  //   state: 'Kerala',\n  //   pincode: '686019',\n  //   presentation: '',\n  //   food: 'Veg',\n  //   citizen: 'Indian',\n  //   category: 'IEEE Student Member',\n  //   paperId1: 'asdas',\n  //   extraPage1: '',\n  //   paperId2: '',\n  //   extraPage2: '',\n  //   papers: '1',\n  // });\n\n  let schema = yup.object().shape({\n    name: yup.string().required(),\n    email: yup.string().required().email(),\n    phone: yup.string().required(),\n    ieeeMember: yup.string().required(),\n    validIEEE: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required('Verify membership ID'),\n    }),\n    presentation: yup.string().required(),\n    presentationType: yup.string().required(),\n    citizen: yup.string().required(),\n    address: yup.string().required(),\n    gender: yup.string().required(),\n    country: yup.string().required(),\n    state: yup.string().required(),\n    food: yup.string().required(),\n    pincode: yup.string().required(),\n    institute: yup.string().required(),\n    designation: yup.string().required(),\n    category: yup.string().required(),\n    paperId1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required(),\n    }),\n    extraPage1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required('Required'),\n    }),\n    paperId2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    extraPage2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    papers: yup.string().required(),\n    membershipId: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required(),\n    }),\n    passport: yup.string().when('category', {\n      is: (category: any) =>\n        category !== undefined && category.includes('Foreign'),\n      then: yup.string().required(),\n    }),\n  });\n\n  const PriceUpdater: Function = () => {\n    const { values, setFieldValue } = useFormikContext<any>();\n    const didMount = useRef(false);\n    useEffect(() => {\n      if (didMount.current) {\n        if (values.papers === 'Not applicable') {\n          setFieldValue('paperId1', '');\n          setFieldValue('paperId2', '');\n          setFieldValue('extraPage1', '');\n          setFieldValue('extraPage2', '');\n        }\n        if (Number(values.papers) === 1) {\n          setFieldValue('paperId2', '');\n          setFieldValue('extraPage2', '');\n        }\n        setPages(getExtraPagesPrice2(values));\n      } else {\n        didMount.current = true;\n      }\n    }, [\n      values.papers,\n      values.ieeeMember,\n      values.category,\n      values.extraPage1,\n      values.extraPage2,\n    ]);\n  };\n  const handleAxiosError = (err: any) => {\n    setError(true);\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    setLoading(false);\n  };\n\n  const handleUpload = async (values: any) => {\n    setIntialVal(values);\n    setLoading(true);\n    try {\n      var data = values;\n      data.membershipType = values.ieeeMember\n        ? 'IEEE Member'\n        : 'Non IEEE Member';\n      data.amount = JSON.stringify({\n        currency: values.citizen === 'Foreign' ? 'USD' : 'INR',\n        amount: getTotalPrice(getPedesPrice(values) + pages, values),\n      });\n\n      const formData = buildForm(data);\n\n      const res = await axios.post(\n        '/api/pay/paytm?formId=pedes2022',\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n\n      displayPaytm(res.data);\n    } catch (err: any) {\n      handleAxiosError(err);\n    }\n  };\n\n  const catgory = [\n    'IEEE Student Member',\n    'Non-IEEE Student Member',\n    'IEEE Member',\n    'Non-IEEE member',\n    'IEEE Life Fellow/ IEEE Life Member/IEEE Member Professor Emeritus',\n  ];\n\n  return (\n    <div className={styles.form}>\n      <Head>\n        <title>PEDES 2022</title>\n      </Head>\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : (\n        <div className={styles.formContainer}>\n          <img className={styles.formBanner} src=\"/pedes.png\" />\n          <div className={styles.formDetails}>\n            <p className={styles.subTitle}>REGISTRATION FORM</p>\n            <h1 className={styles.formTitle}>PEDES 2022</h1>\n            {/* <p className={styles.formDescription}>\n              To ride a vehicle I worked on back home in New Zealand has always\n              been a dream, to share it with so many like minded people at\n              Ducati Owners Club NZ is even better. Credit to Aaron Staples for\n              the great shots.\n            </p> */}\n          </div>\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\n\n          <div className={styles.formContent}>\n            <Formik\n              initialValues={initialVal}\n              validationSchema={schema}\n              onSubmit={(values) => handleUpload(values)}\n            >\n              {({\n                values,\n                errors,\n                handleSubmit,\n                setFieldValue,\n              }: FormikProps<any>) => (\n                <div>\n                  <FormInput\n                    label=\"Full name *\"\n                    placeholder=\"Enter your name\"\n                    value={values.name}\n                    onChange={(e: any) => setFieldValue('name', e.target.value)}\n                    errors={\n                      getIn(errors, 'name') !== undefined\n                        ? getIn(errors, 'name')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Email *\"\n                    placeholder=\"Enter your email\"\n                    value={values.email}\n                    onChange={(e: any) =>\n                      setFieldValue('email', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'email') !== undefined\n                        ? getIn(errors, 'email')\n                        : ''\n                    }\n                  />\n\n                  <PhoneSelector\n                    label=\"Phone *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.phone}\n                    onChange={(e: any) => setFieldValue('phone', e)}\n                    errors={\n                      getIn(errors, 'phone') !== undefined\n                        ? getIn(errors, 'phone')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Gender*\"\n                    options={['Male', 'Female']}\n                    value={values.gender}\n                    onChange={(e: any) => setFieldValue('gender', e)}\n                    errors={\n                      getIn(errors, 'gender') !== undefined\n                        ? getIn(errors, 'gender')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Permanent address *\"\n                    placeholder=\"Enter your permanent address\"\n                    value={values.address}\n                    onChange={(e: any) =>\n                      setFieldValue('address', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'address') !== undefined\n                        ? getIn(errors, 'address')\n                        : ''\n                    }\n                  />\n                  <FormSelect\n                    label=\"Country *\"\n                    options={getCountryList}\n                    value={{ label: values.country, value: values.country }}\n                    onChange={(e: any) => setFieldValue('country', e.value)}\n                    errors={\n                      getIn(errors, 'country') !== undefined\n                        ? getIn(errors, 'country')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"State/Province *\"\n                    placeholder=\"Enter your state or province\"\n                    value={values.state}\n                    onChange={(e: any) =>\n                      setFieldValue('state', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'state') !== undefined\n                        ? getIn(errors, 'state')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Pincode *\"\n                    placeholder=\"Enter your pincode\"\n                    value={values.pincode}\n                    onChange={(e: any) =>\n                      setFieldValue('pincode', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'pincode') !== undefined\n                        ? getIn(errors, 'pincode')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Institute *\"\n                    placeholder=\"Enter your institution\"\n                    value={values.institute}\n                    onChange={(e: any) =>\n                      setFieldValue('institute', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'institute') !== undefined\n                        ? getIn(errors, 'institute')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Designation *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.designation}\n                    onChange={(e: any) =>\n                      setFieldValue('designation', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'designation') !== undefined\n                        ? getIn(errors, 'designation')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Are you an IEEE Member*\"\n                    options={['Yes', 'No']}\n                    value={values.ieeeMember}\n                    onChange={(e: any) => setFieldValue('ieeeMember', e)}\n                    errors={\n                      getIn(errors, 'ieeeMember') !== undefined\n                        ? getIn(errors, 'ieeeMember')\n                        : ''\n                    }\n                  />\n                  <FormIEEE\n                    label=\"If yes, enter your membership ID\"\n                    placeholder=\"Enter your IEEE Membership ID \"\n                    value={values.membershipId}\n                    onChange={(e: any) =>\n                      setFieldValue('membershipId', e.target.value)\n                    }\n                    onChangeValid={(e: any) => setFieldValue('validIEEE', e)}\n                    errors={\n                      getIn(errors, 'membershipId') !== undefined\n                        ? getIn(errors, 'membershipId')\n                        : ''\n                    }\n                    vaildError={\n                      getIn(errors, 'validIEEE') !== undefined\n                        ? getIn(errors, 'validIEEE')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Citizenship*\"\n                    options={['Indian', 'Foreign']}\n                    value={values.citizen}\n                    onChange={(e: any) => setFieldValue('citizen', e)}\n                    errors={\n                      getIn(errors, 'citizen') !== undefined\n                        ? getIn(errors, 'citizen')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Food preference *\"\n                    options={['Veg', 'Non Veg']}\n                    value={values.food}\n                    onChange={(e: any) => setFieldValue('food', e)}\n                    errors={\n                      getIn(errors, 'food') !== undefined\n                        ? getIn(errors, 'food')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Prefered presentation mode *\"\n                    options={['Online', 'Offline']}\n                    value={values.presentation}\n                    onChange={(e: any) => setFieldValue('presentation', e)}\n                    errors={\n                      getIn(errors, 'presentation') !== undefined\n                        ? getIn(errors, 'presentation')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Presentation type *\"\n                    options={['Oral', 'Poster']}\n                    value={values.presentationType}\n                    onChange={(e: any) => setFieldValue('presentationType', e)}\n                    errors={\n                      getIn(errors, 'presentationType') !== undefined\n                        ? getIn(errors, 'presentationType')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Number of papers*\"\n                    options={['1', '2', 'Not applicable']}\n                    value={values.papers}\n                    onChange={(e: any) => setFieldValue('papers', e)}\n                    errors={\n                      getIn(errors, 'papers') !== undefined\n                        ? getIn(errors, 'papers')\n                        : ''\n                    }\n                  />\n                  {Number(values.papers) > 0 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 1*\"\n                        placeholder=\"Enter your paper id 1\"\n                        value={values.paperId1}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId1', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId1') !== undefined\n                            ? getIn(errors, 'paperId1')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 1 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage1}\n                        onChange={(e: any) => setFieldValue('extraPage1', e)}\n                        errors={\n                          getIn(errors, 'extraPage1') !== undefined\n                            ? getIn(errors, 'extraPage1')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 2 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 2*\"\n                        placeholder=\"Enter your paper id 2\"\n                        value={values.paperId2}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId2', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId2') !== undefined\n                            ? getIn(errors, 'paperId2')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 2 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage2}\n                        onChange={(e: any) => setFieldValue('extraPage2', e)}\n                        errors={\n                          getIn(errors, 'extraPage2') !== undefined\n                            ? getIn(errors, 'extraPage2')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n\n                  <FormOptions\n                    label=\"Category *\"\n                    options={catgory}\n                    value={values.category}\n                    onChange={(e: any) => setFieldValue('category', e)}\n                    errors={\n                      getIn(errors, 'category') !== undefined\n                        ? getIn(errors, 'category')\n                        : ''\n                    }\n                  />\n                  {values.category !== undefined &&\n                  values.category.includes('Foreign') ? (\n                    <FormInput\n                      label=\"Passport number *\"\n                      placeholder=\"Enter your passport number\"\n                      value={values.passport}\n                      onChange={(e: any) =>\n                        setFieldValue('passport', e.target.value)\n                      }\n                      errors={\n                        getIn(errors, 'passport') !== undefined\n                          ? getIn(errors, 'passport')\n                          : ''\n                      }\n                    />\n                  ) : null}\n\n                  <PriceUpdater />\n                  <h4 className={styles.breakDownLabel}>\n                    Amount to be paid (including GST)\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.citizen === 'Foreign' ? '$ ' : 'Rs '}\n                    {getPedesPrice(values)}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on extra pages(including GST)\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.citizen === 'Foreign' ? '$ ' : 'Rs '}\n                    {getExtraPagesPrice2(values)}\n                  </h5>\n                  <h4 className={styles.priceLabel}>\n                    Total amount (\n                    <i>\n                      {' '}\n                      {values.citizen === 'Foreign' ? '3.2%' : '2.2%'}{' '}\n                      convenience fee included\n                    </i>\n                    )\n                  </h4>\n                  <h5 className={styles.price}>\n                    {values.citizen === 'Foreign' ? '$ ' : 'Rs '}\n                    {getTotalPrice(getPedesPrice(values) + pages, values)}\n                    {/* {getPedesTotalPrice(values, getPedesPrice(values))} */}\n                  </h5>\n                  <br />\n                  {/* {JSON.stringify(errors, null, 2)} */}\n                  <button\n                    className={styles.button}\n                    type=\"submit\"\n                    onClick={() => handleSubmit()}\n                  >\n                    SUBMIT\n                  </button>\n                </div>\n              )}\n            </Formik>\n\n            <footer className={styles.footer}>\n              <p>\n                This content is created by the owner of the form. The data you\n                submit will be sent to the form owner. IEEE Kerala Section is\n                not responsible for the privacy or security practices of its\n                customers, including those of this form owner. Never give out\n                your password.\n              </p>\n              <br />\n              Powered by IKS Mint Forms |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n                Privacy and cookies\n              </a>{' '}\n              |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n                Terms of use\n              </a>\n            </footer>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n","D:\\Projects\\Github\\mint-forms\\pages\\index.tsx",[],[],"D:\\Projects\\Github\\mint-forms\\pages\\[formId]\\responses.js",[],[],"D:\\Projects\\Github\\mint-forms\\pages\\_app.tsx",[],[],"D:\\Projects\\Github\\mint-forms\\components\\addResponses\\index.js",[],[],"D:\\Projects\\Github\\mint-forms\\components\\sendMail\\index.js",["102"],[],"import styles from \"./Styles.module.css\";\nimport Loader from \"../../UI-Components/loader\";\nimport Input from \"../../UI-Components/CustomInput/input3\";\nimport TextArea from \"../../UI-Components/CustomTextarea\";\nimport { Formik, getIn } from \"formik\";\nimport RichEditor from \"../../UI-Components/RichEditor\";\nimport * as yup from \"yup\";\n\nexport default function SendMail({ setModal, data, handleSubmit, loading }) {\n  const initailData = {\n    to:\n      data !== [] && data.length > 0\n        ? data.map((val) => val.email).toString()\n        : \"\",\n    subject: \"\",\n    msg: \"\",\n  };\n\n  let schema = yup.object().shape({\n    to: yup.string().required(\"Required\"),\n    subject: yup.string().required(\"Required\"),\n    msg: yup.string().required(\"Required\"),\n  });\n\n  const wrapperStyle = {\n    // border: \"1px solid #969696\",\n  };\n\n  const editorStyle = {\n    height: \"10rem\",\n    // padding: \"1rem\",\n    fontSize:\"14px\"\n  };\n\n  return (\n    <div className={styles.modal}>\n      <div\n        className={styles.modal_overlay}\n        onClick={() => setModal(false)}\n      ></div>\n      <div className={styles.modal_con}>\n        <h4>Send mail</h4>\n        {loading ? (\n          <Loader />\n        ) : (\n          <Formik\n            initialValues={initailData}\n            validationSchema={schema}\n            onSubmit={(values) => {\n              handleSubmit(values);\n            }}\n          >\n            {({ values, setFieldValue, handleSubmit, errors }) => (\n              <>\n                <Input\n                  // label=\"To\"\n                  value={values.to}\n                  disabled={loading}\n                  placeholder=\"Enter the email seperated by commas\"\n                  error={getIn(errors, \"to\") !== undefined ? true : false}\n                  errMsg={\n                    getIn(errors, \"to\") !== undefined ? getIn(errors, \"to\") : \"\"\n                  }\n                  onChange={(e) => setFieldValue(\"to\", e.target.value)}\n                />\n                <Input\n                  // label=\"Subject\"\n                  value={values.subject}\n                  disabled={loading}\n                  placeholder=\"Enter the subject\"\n                  error={getIn(errors, \"subject\") !== undefined ? true : false}\n                  errMsg={\n                    getIn(errors, \"subject\") !== undefined\n                      ? getIn(errors, \"subject\")\n                      : \"\"\n                  }\n                  onChange={(e) => setFieldValue(\"subject\", e.target.value)}\n                />\n\n                <RichEditor\n                  // label=\"Message\"\n                  wrapperStyle={wrapperStyle}\n                  editorStyle={editorStyle}    \n                  state={values.msg}\n                  placeholder=\"Enter the message\"\n                  error={getIn(errors, \"msg\") !== undefined ? true : false}\n                  errMsg={\n                    getIn(errors, \"msg\") !== undefined\n                      ? getIn(errors, \"msg\")\n                      : \"\"\n                  }\n                  setState={(content) => setFieldValue(\"msg\", content)}\n                />\n                {/* <TextArea\n                  label=\"Message\"\n                  value={values.msg}\n                  disabled={loading}\n                  placeholder=\"Enter the message\"\n                  error={getIn(errors, \"msg\") !== undefined ? true : false}\n                  errMsg={getIn(errors, \"msg\") !== undefined ? getIn(errors, \"msg\") : \"\"}\n                  onChange={(e) => setFieldValue(\"msg\", e.target.value)} /> */}\n                <div className={styles.modal_con_buttons}>\n                  <button\n                    className={styles.buttons_first}\n                    disabled={loading}\n                    onClick={handleSubmit}\n                  >\n                    Sent\n                  </button>\n                  <button\n                    className={styles.buttons_first}\n                    disabled={loading}\n                    onClick={() => setModal(false)}\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </>\n            )}\n          </Formik>\n        )}\n      </div>\n    </div>\n  );\n}\n","D:\\Projects\\Github\\mint-forms\\components\\sidebar\\index.tsx",[],[],"D:\\Projects\\Github\\mint-forms\\components\\topNav\\index.tsx",[],[],{"ruleId":"103","severity":1,"message":"104","line":104,"column":6,"nodeType":"105","endLine":104,"endColumn":28,"suggestions":"106"},{"ruleId":"103","severity":1,"message":"107","line":59,"column":6,"nodeType":"105","endLine":59,"endColumn":42,"suggestions":"108"},{"ruleId":"109","severity":1,"message":"110","line":34,"column":3,"nodeType":"111","messageId":"112","endLine":34,"endColumn":8},{"ruleId":"103","severity":1,"message":"113","line":172,"column":8,"nodeType":"105","endLine":179,"endColumn":6,"suggestions":"114"},{"ruleId":"109","severity":1,"message":"115","line":181,"column":18,"nodeType":"111","messageId":"112","endLine":181,"endColumn":33},{"ruleId":"116","severity":1,"message":"117","line":306,"column":11,"nodeType":"118","endLine":306,"endColumn":68},{"ruleId":"119","severity":1,"message":"120","line":306,"column":11,"nodeType":"118","endLine":306,"endColumn":68},{"ruleId":"116","severity":1,"message":"117","line":72,"column":9,"nodeType":"118","endLine":72,"endColumn":65},{"ruleId":"119","severity":1,"message":"120","line":72,"column":9,"nodeType":"118","endLine":72,"endColumn":65},{"ruleId":"103","severity":1,"message":"113","line":172,"column":8,"nodeType":"105","endLine":179,"endColumn":6,"suggestions":"121"},{"ruleId":"116","severity":1,"message":"117","line":318,"column":11,"nodeType":"118","endLine":318,"endColumn":68},{"ruleId":"119","severity":1,"message":"120","line":318,"column":11,"nodeType":"118","endLine":318,"endColumn":68},{"ruleId":"109","severity":1,"message":"122","line":8,"column":8,"nodeType":"111","messageId":"112","endLine":8,"endColumn":18},{"ruleId":"109","severity":1,"message":"123","line":9,"column":10,"nodeType":"111","messageId":"112","endLine":9,"endColumn":19},{"ruleId":"103","severity":1,"message":"113","line":142,"column":8,"nodeType":"105","endLine":148,"endColumn":6,"suggestions":"124"},{"ruleId":"116","severity":1,"message":"117","line":206,"column":11,"nodeType":"118","endLine":206,"endColumn":65},{"ruleId":"119","severity":1,"message":"120","line":206,"column":11,"nodeType":"118","endLine":206,"endColumn":65},{"ruleId":"109","severity":1,"message":"125","line":4,"column":8,"nodeType":"111","messageId":"112","endLine":4,"endColumn":16},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'displayRazorpay' and 'router.query.paymentProvider'. Either include them or remove the dependency array.","ArrayExpression",["126"],"React Hook useEffect has a missing dependency: 'getData'. Either include it or remove the dependency array.",["127"],"no-unused-vars","'index' is defined but never used. Allowed unused args must match /^_/u.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'setFieldValue' and 'values'. Either include them or remove the dependency array.",["128"],"'displayRazorPay' is defined but never used.","@next/next/no-img-element","Do not use `<img>` element. Use `<Image />` from `next/image` instead. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.",["129"],"'loadScript' is defined but never used.","'useRouter' is defined but never used.",["130"],"'TextArea' is defined but never used.",{"desc":"131","fix":"132"},{"desc":"133","fix":"134"},{"desc":"135","fix":"136"},{"desc":"135","fix":"137"},{"desc":"138","fix":"139"},"Update the dependencies array to be: [displayRazorpay, router.query.orderId, router.query.paymentProvider]",{"range":"140","text":"141"},"Update the dependencies array to be: [getData, router.query.id, router.query.type]",{"range":"142","text":"143"},"Update the dependencies array to be: [values.papers, values.ieeeMember, values.category, values.extraPage1, values.extraPage2, values.extraPage3, values, setFieldValue]",{"range":"144","text":"145"},{"range":"146","text":"145"},"Update the dependencies array to be: [values.papers, values.ieeeMember, values.category, values.extraPage1, values.extraPage2, values, setFieldValue]",{"range":"147","text":"148"},[3232,3254],"[displayRazorpay, router.query.orderId, router.query.paymentProvider]",[1438,1474],"[getData, router.query.id, router.query.type]",[5661,5812],"[values.papers, values.ieeeMember, values.category, values.extraPage1, values.extraPage2, values.extraPage3, values, setFieldValue]",[5661,5812],[4664,4790],"[values.papers, values.ieeeMember, values.category, values.extraPage1, values.extraPage2, values, setFieldValue]"]