(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[640],{72345:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/confirmation/[id]",function(){return s(72152)}])},27698:function(e,n,s){"use strict";s.d(n,{Z:function(){return i}});var t=s(85893),r=s(67294);function i(e){var n=e.setError,s=e.msg,i=(0,r.useState)(!0),a=i[0],o=i[1];(0,r.useEffect)((function(){setTimeout((function(){o(!1)}),5e3)}));return(0,t.jsxs)("div",{className:"errorBox",style:{animation:"".concat(a?"fadeIn":"fadeOut"," 200ms ease-in-out")},onAnimationEnd:function(){a||n(!1)},children:[(0,t.jsxs)("span",{children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"white",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x-circle",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("path",{d:"M15 9L9 15"}),(0,t.jsx)("path",{d:"M9 9L15 15"})]}),"\xa0Error\xa0:"]}),(0,t.jsx)("p",{children:String(s)})]})}},36248:function(e,n,s){"use strict";s.d(n,{Z:function(){return a}});var t=s(85893),r=s(23469),i=s.n(r);function a(e){return(0,t.jsx)("div",{className:i().loader,children:(0,t.jsx)("span",{className:i().span})})}},72152:function(e,n,s){"use strict";s.r(n);var t=s(47568),r=s(34051),i=s.n(r),a=s(85893),o=s(9008),l=s.n(o),c=s(27698),d=s(36248),u=s(67294),_=s(9669),m=s.n(_),p=s(11163),f=s(58390),h=s.n(f),x=s(30381),v=s.n(x);n.default=function(){var e=(0,p.useRouter)(),n=(0,u.useState)({title:"",responses:[],venue:"",eventDate:"",formId:""}),s=n[0],r=n[1],o=(0,u.useState)(!0),_=o[0],f=o[1],x=(0,u.useState)(!1),j=x[0],y=x[1],N=(0,u.useState)(""),g=N[0],C=N[1],D=function(){var n=(0,t.Z)(i().mark((function n(){var s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===e.query.id){n.next=13;break}return n.prev=1,n.next=4,m().get("/api/pay/confirmation?orderId=".concat(e.query.id));case 4:s=n.sent,f(!1),r(s.data),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),y(!0),C(void 0!==n.t0.response?n.t0.response.data.error:String(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}();return(0,u.useEffect)((function(){D()}),[e.query.id,e.query.type]),(0,a.jsxs)("main",{className:"main",children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"Confirmation"}),(0,a.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("div",{className:h().eventform,children:[j?(0,a.jsx)(c.Z,{setError:y,msg:g}):null,_?(0,a.jsx)(d.Z,{msg:"Loading receipt details"}):(0,a.jsxs)("div",{className:h().eventform_con,children:[(0,a.jsxs)("div",{className:h().eventdetails,children:[(0,a.jsx)("p",{className:h().eventdetails_dnt,children:"Event Registration Confirmation"}),(0,a.jsx)("h3",{className:h().eventdetails_title,children:s.title}),void 0!==s.responses&&"success"===s.responses[0].paymentStatus?(0,a.jsx)("p",{className:h().eventdetails_des,children:"Thank you for registering for the event. A copy of the receipt has been sent to your registered email"}):(0,a.jsx)("p",{className:h().eventdetails_des,children:void 0!==s.responses&&"failed"!==s.responses[0].paymentStatus?"The payment is yet to be recieved":"The transaction has failed"})]}),(0,a.jsxs)("div",{className:h().paymentDetails,children:[(0,a.jsx)("p",{className:h().paymentDetails_title,children:"Payment Details"}),void 0!==s.responses?(0,a.jsxs)("div",{className:h().paymentDetails_grid,children:[void 0!==s.responses[0].orderId?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Order Id"})," ",(0,a.jsx)("p",{children:s.responses[0].orderId})]}):null,void 0!==s.responses[0].txnId?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Transaction Id"})," ",(0,a.jsx)("p",{className:h().txn,children:s.responses[0].txnId})]}):null,void 0!==s.responses[0].paymentStatus?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Payment Status"})," ",(0,a.jsx)("p",{className:h()[s.responses[0].paymentStatus],children:s.responses[0].paymentStatus})]}):null,void 0!==s.responses[0].amount?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Amount"})," ",(0,a.jsxs)("p",{children:[JSON.parse(s.responses[0].amount).currency," ",JSON.parse(s.responses[0].amount).amount]})]}):null,void 0!==s.responses[0].txnDate?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Date and time"})," ",(0,a.jsx)("p",{children:v()(s.responses[0].txnDate).format("D MMM YYYY h:mm:ss a")})]}):null]}):null]}),void 0!==s.venue?(0,a.jsxs)("div",{className:h().paymentDetails,children:[(0,a.jsx)("p",{className:h().paymentDetails_title,children:"Event Details"}),(0,a.jsxs)("div",{className:h().paymentDetails_grid,children:[(0,a.jsx)("p",{children:"Date"})," ",(0,a.jsx)("p",{children:v()(s.eventDate).format("D MMM YYYY")}),(0,a.jsx)("p",{children:"Venue"})," ",(0,a.jsx)("p",{children:s.venue})]})]}):null,(0,a.jsxs)("div",{className:h().buttons,children:[(0,a.jsx)("button",{className:h().button,onClick:function(){return window.print()},children:"Print"}),(0,a.jsx)("button",{className:h().button,onClick:function(){return e.push("/form/".concat(s.formId))},children:"Submit another"})]})]})]})]})}},23469:function(e){e.exports={loader:"styles_loader__U57It","loader-5-1":"styles_loader-5-1__UPnjs","loader-5-2":"styles_loader-5-2__TF7p8","loader-5-3":"styles_loader-5-3__OIQYu",span:"styles_span__DF1VN","loader-5-4":"styles_loader-5-4__niyGH","loader-5-5":"styles_loader-5-5__oocD_"}},58390:function(e){e.exports={main:"Confirmation_main__g6kEl",eventform:"Confirmation_eventform__bEsCr",eventform_con:"Confirmation_eventform_con__hz2aq",eventdetails_dnt:"Confirmation_eventdetails_dnt__DHnYP",eventdetails_title:"Confirmation_eventdetails_title__3Jl07",eventdetails_des:"Confirmation_eventdetails_des__H7H4S",register:"Confirmation_register__phXGp",paymentDetails_title:"Confirmation_paymentDetails_title__ScvOO",paymentDetails_grid:"Confirmation_paymentDetails_grid__0Q__0",txn:"Confirmation_txn__svSiC",confirm:"Confirmation_confirm__zdbN_",red:"Confirmation_red__BlU6u",failed:"Confirmation_failed__pWlPq",pending:"Confirmation_pending__Hd6TQ",success:"Confirmation_success__5JrNS",button:"Confirmation_button__vxGEg"}},9008:function(e,n,s){e.exports=s(5443)}},function(e){e.O(0,[885,48,774,888,179],(function(){return n=72345,e(e.s=n);var n}));var n=e.O();_N_E=n}]);