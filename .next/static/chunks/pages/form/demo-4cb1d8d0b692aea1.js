(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{47314:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/demo",function(){return a(15617)}])},15617:function(e,r,a){"use strict";a.r(r);var n=a(47568),t=a(34051),o=a.n(t),i=a(85893),s=a(2510),u=a.n(s),p=a(47174),c=a(82175),l=a(9669),d=a.n(l),h=a(37002),m=a(67294),g=a(27837),f=a(11163),v=a(27698),b=a(36248),x=a(18443),y=a.n(x),I=a(71203),Z=a(14665),j=a(37635),E=a.n(j),P=a(19154),N=a.n(P),_=a(9008),w=a.n(_),C=a(13661),q=a.n(C),S=a(92558),k=a(26412),F=a(11322),M=a(94723),A=a.n(M),D=a(74231);r.default=function(){var e=(0,f.useRouter)(),r=(0,m.useState)(9e3),a=r[0],t=r[1],s=(0,m.useState)(0),l=s[0],x=s[1],j=(0,m.useState)(0),P=j[0],_=j[1],C=(0,m.useState)(!1),M=C[0],R=C[1],T=(0,m.useState)(!1),z=T[0],O=T[1],V=(0,m.useState)(!1),L=V[0],$=V[1],G=(0,m.useState)({name:"",email:"",phone:"",ieeeMember:"",membershipId:"",validIEEE:"",address:"",gender:"",country:"",state:"",pincode:"",food:"",institute:"",designation:"",category:"",papers:"1",paperId1:"",extraPage1:"",paperId2:"",extraPage2:"",paperId3:"",extraPage3:"",passport:""}),K=G[0],W=G[1],Y=D.Ry().shape({name:D.Z_().required(),email:D.Z_().required().email(),phone:D.Z_().required(),ieeeMember:D.Z_().required(),validIEEE:D.Z_().when("ieeeMember",{is:"Yes",then:D.Z_().required("Verify membership ID")}),address:D.Z_().required(),gender:D.Z_().required(),country:D.Z_().required(),state:D.Z_().required(),food:D.Z_().required(),pincode:D.Z_().required(),institute:D.Z_().required(),designation:D.Z_().required(),category:D.Z_().required(),paperId1:D.Z_().when("papers",{is:function(e){return Number(e)>0},then:D.Z_().required()}),extraPage1:D.Z_().when("papers",{is:function(e){return Number(e)>0},then:D.Z_().required("Required")}),paperId2:D.Z_().when("papers",{is:function(e){return Number(e)>=2},then:D.Z_().required()}),extraPage2:D.Z_().when("papers",{is:function(e){return Number(e)>=2},then:D.Z_().required()}),paperId3:D.Z_().when("papers",{is:function(e){return Number(e)>=3},then:D.Z_().required()}),extraPage3:D.Z_().when("papers",{is:function(e){return Number(e)>=3},then:D.Z_().required("Required")}),papers:D.Z_().required(),membershipId:D.Z_().when("ieeeMember",{is:"Yes",then:D.Z_().required()}),passport:D.Z_().when("category",{is:function(e){return void 0!==e&&e.includes("Foreign")},then:D.Z_().required()})}),B=function(){var e=(0,c.u6)(),r=e.values,a=e.setFieldValue,n=(0,m.useRef)(!1);(0,m.useEffect)((function(){n.current?("Not applicable"===r.papers&&(a("paperId1",""),a("paperId2",""),a("paperId3",""),a("extraPage1",""),a("extraPage2",""),a("extraPage3","")),1===Number(r.papers)&&(a("paperId2",""),a("paperId3",""),a("extraPage2",""),a("extraPage3","")),2===Number(r.papers)&&(a("paperId3",""),a("extraPage3","")),t(y()(r)),x((0,I.getPaperPrice)(r)),_((0,Z.getExtraPagesPrice)(r)),console.log((0,I.getPaperPrice)(r))):n.current=!0}),[r.papers,r.ieeeMember,r.category,r.extraPage1,r.extraPage2,r.extraPage3])};function J(e,r){return U.apply(this,arguments)}function U(){return U=(0,n.Z)(o().mark((function r(a,t){var i,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,g.Z)();case 2:if(r.sent){r.next=6;break}return alert("Razorpay SDK failed to load. Are you online?"),r.abrupt("return");case 6:i={key:a.key,currency:a.currency,amount:String(a.amount),order_id:a.id,name:"Indicon 2022",description:"Thank you for registering",handler:function(){var r=(0,n.Z)(o().mark((function r(a){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d().post("/api/pay/razorpay/verify?formId=demo&orderId=".concat(a.razorpay_order_id),a);case 3:e.push("/confirmation/".concat(a.razorpay_order_id)),r.next=11;break;case 6:r.prev=6,r.t0=r.catch(0),O(!0),$(void 0!==r.t0.response?r.t0.response.data.error:r.t0),R(!1);case 11:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}(),prefill:{name:"".concat(t.name),email:t.email,contact:"".concat(t.phone)}},(s=new window.Razorpay(i)).open(),s.on("payment.failed",function(){var r=(0,n.Z)(o().mark((function r(a){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d().post("/api/pay/razorpay/failed?formId=demo",a.error);case 3:e.push("/confirmation/".concat(a.error.metadata.order_id)),s.close(),r.next=12;break;case 7:r.prev=7,r.t0=r.catch(0),O(!0),$(void 0!==r.t0.response?r.t0.response.data.error:r.t0),R(!1);case 12:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}());case 10:case"end":return r.stop()}}),r)}))),U.apply(this,arguments)}var X=function(){var e=(0,n.Z)(o().mark((function e(r){var n,t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W(r),R(!0),e.prev=2,(n=r).membershipType=r.ieeeMember?"IEEE Member":"Non IEEE Member",n.amount=JSON.stringify({currency:r.category.includes("Foreign")?"USD":"INR",amount:E()(a+l+P,r)}),t=N()(n),!r.category.includes("Foreign")){e.next=14;break}return e.next=10,d().post("/api/pay/razorpay?formId=demo",t,{headers:{"Content-Type":"multipart/form-data"}});case 10:J(e.sent.data,r),e.next=18;break;case 14:return e.next=16,d().post("/api/pay/paytm?formId=demo",t,{headers:{"Content-Type":"multipart/form-data"}});case 16:i=e.sent,q()(i.data);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),o=e.t0,O(!0),$(void 0!==o.response?o.response.data.error:o),R(!1);case 23:case"end":return e.stop()}var o}),e,null,[[2,20]])})));return function(r){return e.apply(this,arguments)}}(),H=["Indian Author (Academia)","Indian Author (Industry)","Indian Student Author","Indian Non-Author Attendee","Foreign Author","Foreign Student Author"];return(0,i.jsxs)("div",{className:u().form,children:[(0,i.jsx)(w(),{children:(0,i.jsx)("title",{children:"Demo"})}),M?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(b.Z,{msg:"Don't refresh this page. Redirecting to payment processing service ..."})}):(0,i.jsxs)("div",{className:u().formContainer,children:[(0,i.jsx)("img",{className:u().formBanner,src:"/indicon2.png"}),(0,i.jsxs)("div",{className:u().formDetails,children:[(0,i.jsx)("p",{className:u().subTitle,children:"REGISTRATION FORM"}),(0,i.jsx)("h1",{className:u().formTitle,children:"DEMO"})]}),z?(0,i.jsx)(v.Z,{setError:O,msg:L}):null,(0,i.jsxs)("div",{className:u().formContent,children:[(0,i.jsx)(c.J9,{initialValues:K,validationSchema:Y,onSubmit:function(e){return X(e)},children:function(e){var r=e.values,n=e.errors,t=e.handleSubmit,o=e.setFieldValue;return(0,i.jsxs)("div",{children:[(0,i.jsx)(p.Z,{label:"Full name *",placeholder:"Enter your name",value:r.name,onChange:function(e){return o("name",e.target.value)},errors:void 0!==(0,c.u9)(n,"name")?(0,c.u9)(n,"name"):""}),(0,i.jsx)(p.Z,{label:"Email *",placeholder:"Enter your email",value:r.email,onChange:function(e){return o("email",e.target.value)},errors:void 0!==(0,c.u9)(n,"email")?(0,c.u9)(n,"email"):""}),(0,i.jsx)(S.Z,{label:"Phone *",placeholder:"Enter your phone number",value:r.phone,onChange:function(e){return o("phone",e)},errors:void 0!==(0,c.u9)(n,"phone")?(0,c.u9)(n,"phone"):""}),(0,i.jsx)(h.Z,{label:"Gender*",options:["Male","Female"],value:r.gender,onChange:function(e){return o("gender",e)},errors:void 0!==(0,c.u9)(n,"gender")?(0,c.u9)(n,"gender"):""}),(0,i.jsx)(p.Z,{label:"Permanent address *",placeholder:"Enter your permanent address",value:r.address,onChange:function(e){return o("address",e.target.value)},errors:void 0!==(0,c.u9)(n,"address")?(0,c.u9)(n,"address"):""}),(0,i.jsx)(k.Z,{label:"Country *",options:A(),value:{label:r.country,value:r.country},onChange:function(e){return o("country",e.value)},errors:void 0!==(0,c.u9)(n,"country")?(0,c.u9)(n,"country"):""}),(0,i.jsx)(p.Z,{label:"State/Province *",placeholder:"Enter your state or province",value:r.state,onChange:function(e){return o("state",e.target.value)},errors:void 0!==(0,c.u9)(n,"state")?(0,c.u9)(n,"state"):""}),(0,i.jsx)(p.Z,{label:"Pincode *",placeholder:"Enter your pincode",value:r.pincode,onChange:function(e){return o("pincode",e.target.value)},errors:void 0!==(0,c.u9)(n,"pincode")?(0,c.u9)(n,"pincode"):""}),(0,i.jsx)(p.Z,{label:"Institute *",placeholder:"Enter your institution",value:r.institute,onChange:function(e){return o("institute",e.target.value)},errors:void 0!==(0,c.u9)(n,"institute")?(0,c.u9)(n,"institute"):""}),(0,i.jsx)(p.Z,{label:"Designation *",placeholder:"Enter your phone number",value:r.designation,onChange:function(e){return o("designation",e.target.value)},errors:void 0!==(0,c.u9)(n,"designation")?(0,c.u9)(n,"designation"):""}),(0,i.jsx)(h.Z,{label:"Are you an IEEE Member*",options:["Yes","No"],value:r.ieeeMember,onChange:function(e){return o("ieeeMember",e)},errors:void 0!==(0,c.u9)(n,"ieeeMember")?(0,c.u9)(n,"ieeeMember"):""}),(0,i.jsx)(F.Z,{label:"If yes, enter your membership ID",placeholder:"Enter your IEEE Membership ID ",value:r.membershipId,onChange:function(e){return o("membershipId",e.target.value)},onChangeValid:function(e){return o("validIEEE",e)},errors:void 0!==(0,c.u9)(n,"membershipId")?(0,c.u9)(n,"membershipId"):"",vaildError:void 0!==(0,c.u9)(n,"validIEEE")?(0,c.u9)(n,"validIEEE"):""}),(0,i.jsx)(h.Z,{label:"Food preference *",options:["Veg","Non Veg"],value:r.food,onChange:function(e){return o("food",e)},errors:void 0!==(0,c.u9)(n,"food")?(0,c.u9)(n,"food"):""}),(0,i.jsx)(h.Z,{label:"Number of papers*",options:["1","2","3","Not applicable"],value:r.papers,onChange:function(e){return o("papers",e)},errors:void 0!==(0,c.u9)(n,"papers")?(0,c.u9)(n,"papers"):""}),Number(r.papers)>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{label:"Paper ID 1*",placeholder:"Enter your paper id 1",value:r.paperId1,onChange:function(e){return o("paperId1",e.target.value)},errors:void 0!==(0,c.u9)(n,"paperId1")?(0,c.u9)(n,"paperId1"):""}),(0,i.jsx)(h.Z,{label:"Whether the paper 1 has exceed the 6 page limit ? if yes by how many extra pages ?*",options:["Not applicable","1","2"],value:r.extraPage1,onChange:function(e){return o("extraPage1",e)},errors:void 0!==(0,c.u9)(n,"extraPage1")?(0,c.u9)(n,"extraPage1"):""})]}):null,Number(r.papers)>=2?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{label:"Paper ID 2*",placeholder:"Enter your paper id 2",value:r.paperId2,onChange:function(e){return o("paperId2",e.target.value)},errors:void 0!==(0,c.u9)(n,"paperId2")?(0,c.u9)(n,"paperId2"):""}),(0,i.jsx)(h.Z,{label:"Whether the paper 2 has exceed the 6 page limit ? if yes by how many extra pages ?*",options:["Not applicable","1","2"],value:r.extraPage2,onChange:function(e){return o("extraPage2",e)},errors:void 0!==(0,c.u9)(n,"extraPage2")?(0,c.u9)(n,"extraPage2"):""})]}):null,Number(r.papers)>=3?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{label:"Paper ID 3*",placeholder:"Enter your paper id 3",value:r.paperId3,onChange:function(e){return o("paperId3",e.target.value)},errors:void 0!==(0,c.u9)(n,"paperId3")?(0,c.u9)(n,"paperId3"):""}),(0,i.jsx)(h.Z,{label:"Whether the paper 3 has exceed the 6 page limit ? if yes by how many extra pages ?*",options:["Not applicable","1","2"],value:r.extraPage3,onChange:function(e){return o("extraPage3",e)},errors:void 0!==(0,c.u9)(n,"extraPage3")?(0,c.u9)(n,"extraPage3"):""})]}):null,(0,i.jsx)(h.Z,{label:"Category *",options:H,value:r.category,onChange:function(e){return o("category",e)},errors:void 0!==(0,c.u9)(n,"category")?(0,c.u9)(n,"category"):""}),void 0!==r.category&&r.category.includes("Foreign")?(0,i.jsx)(p.Z,{label:"Passport number *",placeholder:"Enter your passport number",value:r.passport,onChange:function(e){return o("passport",e.target.value)},errors:void 0!==(0,c.u9)(n,"passport")?(0,c.u9)(n,"passport"):""}):null,(0,i.jsx)(B,{}),(0,i.jsx)("h4",{className:u().breakDownLabel,children:"Amount based on chosen catgory"}),(0,i.jsxs)("h5",{className:u().singlePrice,children:[r.category.includes("Foreign")?"$ ":"Rs ",a]}),(0,i.jsx)("h4",{className:u().breakDownLabel,children:"Amount based on number of the additional papers"}),(0,i.jsxs)("h5",{className:u().singlePrice,children:["".concat((0,I.getPaperSinglePrice)(r)," * ").concat(isNaN(r.papers)?0:Number(r.papers)-1," = "),r.category.includes("Foreign")?"$ ":"Rs ",l]}),(0,i.jsx)("h4",{className:u().breakDownLabel,children:"Amount based on additional pages for each paper"}),(0,i.jsxs)("h5",{className:u().singlePrice,children:["".concat((0,Z.getSingleAdditionalPagePrice)(r)," * ").concat((0,Z.getNumOfAdditionalPages)(r)," = "),r.category.includes("Foreign")?"$ ":"Rs ",P]}),(0,i.jsx)("h4",{className:u().breakDownLabel,children:"Amount to be paid"}),(0,i.jsxs)("h5",{className:u().singlePrice,children:[r.category.includes("Foreign")?"$ ":"Rs ",a+l+P]}),(0,i.jsxs)("h4",{className:u().priceLabel,children:["Total amount (",(0,i.jsxs)("i",{children:["18% GST and"," ",r.category.includes("Foreign")?"3.2%":"2.2%"," ","convenience fee included"]}),")"]}),(0,i.jsxs)("h5",{className:u().price,children:[r.category.includes("Foreign")?"$ ":"Rs ",E()(a+l+P,r)]}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{className:u().button,type:"submit",onClick:function(){return t()},children:"SUBMIT"})]})}}),(0,i.jsxs)("footer",{className:u().footer,children:[(0,i.jsx)("p",{children:"This content is created by the owner of the form. The data you submit will be sent to the form owner. IEEE Kerala Section is not responsible for the privacy or security practices of its customers, including those of this form owner. Never give out your password."}),(0,i.jsx)("br",{}),"Powered by IKS Mint Forms |"," ",(0,i.jsx)("a",{style:{color:"blue"},href:"https://ieee-mint.org/privacy",children:"Privacy and cookies"})," ","|"," ",(0,i.jsx)("a",{style:{color:"blue"},href:"https://ieee-mint.org/terms",children:"Terms of use"})]})]})]})]})}}},function(e){e.O(0,[175,48,767,231,710,492,774,888,179],(function(){return r=47314,e(e.s=r);var r}));var r=e.O();_N_E=r}]);