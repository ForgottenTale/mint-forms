(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{47314:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/demo",function(){return a(15617)}])},15617:function(e,r,a){"use strict";a.r(r);var n=a(47568),t=a(34051),o=a.n(t),s=a(85893),i=a(2510),u=a.n(i),l=a(47174),d=a(82175),p=a(9669),c=a.n(p),h=a(37002),g=a(67294),m=(a(27837),a(11163)),b=a(27698),v=a(36248),x=a(18443),f=a.n(x),y=a(71203),I=a(14665),j=a(37635),Z=a.n(j),E=a(19154),P=a.n(E),N=a(9008),_=a.n(N),C=a(13661),w=a.n(C),q=a(92558),F=a(26412),S=a(11322),M=a(94723),A=a.n(M),D=a(74231);r.default=function(){(0,m.useRouter)();var e=(0,g.useState)(9e3),r=e[0],a=e[1],t=(0,g.useState)(0),i=t[0],p=t[1],x=(0,g.useState)(0),j=x[0],E=x[1],N=(0,g.useState)(!1),C=N[0],M=N[1],R=(0,g.useState)(!1),T=R[0],k=R[1],O=(0,g.useState)(!1),V=O[0],L=O[1],$=(0,g.useState)({name:"",email:"",phone:"",ieeeMember:"",membershipId:"",validIEEE:"",address:"",gender:"",country:"",state:"",pincode:"",food:"",institute:"",designation:"",category:"",papers:"1",paperId1:"",extraPage1:"",paperId2:"",extraPage2:"",paperId3:"",extraPage3:"",passport:""}),G=$[0],W=$[1],Y=D.Ry().shape({name:D.Z_().required(),email:D.Z_().required().email(),phone:D.Z_().required(),ieeeMember:D.Z_().required(),validIEEE:D.Z_().when("ieeeMember",{is:"Yes",then:D.Z_().required("Verify membership ID")}),address:D.Z_().required(),gender:D.Z_().required(),country:D.Z_().required(),state:D.Z_().required(),food:D.Z_().required(),pincode:D.Z_().required(),institute:D.Z_().required(),designation:D.Z_().required(),category:D.Z_().required(),paperId1:D.Z_().when("papers",{is:function(e){return Number(e)>0},then:D.Z_().required()}),extraPage1:D.Z_().when("papers",{is:function(e){return Number(e)>0},then:D.Z_().required("Required")}),paperId2:D.Z_().when("papers",{is:function(e){return Number(e)>=2},then:D.Z_().required()}),extraPage2:D.Z_().when("papers",{is:function(e){return Number(e)>=2},then:D.Z_().required()}),paperId3:D.Z_().when("papers",{is:function(e){return Number(e)>=3},then:D.Z_().required()}),extraPage3:D.Z_().when("papers",{is:function(e){return Number(e)>=3},then:D.Z_().required("Required")}),papers:D.Z_().required(),membershipId:D.Z_().when("ieeeMember",{is:"Yes",then:D.Z_().required()}),passport:D.Z_().when("category",{is:function(e){return void 0!==e&&e.includes("Foreign")},then:D.Z_().required()})}),B=function(){var e=(0,d.u6)(),r=e.values,n=e.setFieldValue,t=(0,g.useRef)(!1);(0,g.useEffect)((function(){t.current?("Not applicable"===r.papers&&(n("paperId1",""),n("paperId2",""),n("paperId3",""),n("extraPage1",""),n("extraPage2",""),n("extraPage3","")),1===Number(r.papers)&&(n("paperId2",""),n("paperId3",""),n("extraPage2",""),n("extraPage3","")),2===Number(r.papers)&&(n("paperId3",""),n("extraPage3","")),a(f()(r)),p((0,y.getPaperPrice)(r)),E((0,I.getExtraPagesPrice)(r)),console.log((0,y.getPaperPrice)(r))):t.current=!0}),[r.papers,r.ieeeMember,r.category,r.extraPage1,r.extraPage2,r.extraPage3])};var J=function(){var e=(0,n.Z)(o().mark((function e(a){var n,t,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(a),M(!0),e.prev=2,(n=a).membershipType=a.ieeeMember?"IEEE Member":"Non IEEE Member",n.amount=JSON.stringify({currency:a.category.includes("Foreign")?"USD":"INR",amount:Z()(r+i+j,a)}),t=P()(n),e.next=9,c().post("/api/pay/paytm?formId=demo",t,{headers:{"Content-Type":"multipart/form-data"}});case 9:s=e.sent,w()(s.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),o=e.t0,k(!0),L(void 0!==o.response?o.response.data.error:o),M(!1);case 16:case"end":return e.stop()}var o}),e,null,[[2,13]])})));return function(r){return e.apply(this,arguments)}}(),K=["Indian Author (Academia)","Indian Author (Industry)","Indian Student Author","Indian Non-Author Attendee","Foreign Author","Foreign Student Author"];return(0,s.jsxs)("div",{className:u().form,children:[(0,s.jsx)(_(),{children:(0,s.jsx)("title",{children:"Demo"})}),C?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(v.Z,{msg:"Don't refresh this page. Redirecting to payment processing service ..."})}):(0,s.jsxs)("div",{className:u().formContainer,children:[(0,s.jsx)("img",{className:u().formBanner,src:"/indicon2.png"}),(0,s.jsxs)("div",{className:u().formDetails,children:[(0,s.jsx)("p",{className:u().subTitle,children:"REGISTRATION FORM"}),(0,s.jsx)("h1",{className:u().formTitle,children:"DEMO"})]}),T?(0,s.jsx)(b.Z,{setError:k,msg:V}):null,(0,s.jsxs)("div",{className:u().formContent,children:[(0,s.jsx)(d.J9,{initialValues:G,validationSchema:Y,onSubmit:function(e){return J(e)},children:function(e){var a=e.values,n=e.errors,t=e.handleSubmit,o=e.setFieldValue;return(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Z,{label:"Full name *",placeholder:"Enter your name",value:a.name,onChange:function(e){return o("name",e.target.value)},errors:void 0!==(0,d.u9)(n,"name")?(0,d.u9)(n,"name"):""}),(0,s.jsx)(l.Z,{label:"Email *",placeholder:"Enter your email",value:a.email,onChange:function(e){return o("email",e.target.value)},errors:void 0!==(0,d.u9)(n,"email")?(0,d.u9)(n,"email"):""}),(0,s.jsx)(q.Z,{label:"Phone *",placeholder:"Enter your phone number",value:a.phone,onChange:function(e){return o("phone",e)},errors:void 0!==(0,d.u9)(n,"phone")?(0,d.u9)(n,"phone"):""}),(0,s.jsx)(h.Z,{label:"Gender*",options:["Male","Female"],value:a.gender,onChange:function(e){return o("gender",e)},errors:void 0!==(0,d.u9)(n,"gender")?(0,d.u9)(n,"gender"):""}),(0,s.jsx)(l.Z,{label:"Permanent address *",placeholder:"Enter your permanent address",value:a.address,onChange:function(e){return o("address",e.target.value)},errors:void 0!==(0,d.u9)(n,"address")?(0,d.u9)(n,"address"):""}),(0,s.jsx)(F.Z,{label:"Country *",options:A(),value:{label:a.country,value:a.country},onChange:function(e){return o("country",e.value)},errors:void 0!==(0,d.u9)(n,"country")?(0,d.u9)(n,"country"):""}),(0,s.jsx)(l.Z,{label:"State/Province *",placeholder:"Enter your state or province",value:a.state,onChange:function(e){return o("state",e.target.value)},errors:void 0!==(0,d.u9)(n,"state")?(0,d.u9)(n,"state"):""}),(0,s.jsx)(l.Z,{label:"Pincode *",placeholder:"Enter your pincode",value:a.pincode,onChange:function(e){return o("pincode",e.target.value)},errors:void 0!==(0,d.u9)(n,"pincode")?(0,d.u9)(n,"pincode"):""}),(0,s.jsx)(l.Z,{label:"Institute *",placeholder:"Enter your institution",value:a.institute,onChange:function(e){return o("institute",e.target.value)},errors:void 0!==(0,d.u9)(n,"institute")?(0,d.u9)(n,"institute"):""}),(0,s.jsx)(l.Z,{label:"Designation *",placeholder:"Enter your phone number",value:a.designation,onChange:function(e){return o("designation",e.target.value)},errors:void 0!==(0,d.u9)(n,"designation")?(0,d.u9)(n,"designation"):""}),(0,s.jsx)(h.Z,{label:"Are you an IEEE Member*",options:["Yes","No"],value:a.ieeeMember,onChange:function(e){return o("ieeeMember",e)},errors:void 0!==(0,d.u9)(n,"ieeeMember")?(0,d.u9)(n,"ieeeMember"):""}),(0,s.jsx)(S.Z,{label:"If yes, enter your membership ID",placeholder:"Enter your IEEE Membership ID ",value:a.membershipId,onChange:function(e){return o("membershipId",e.target.value)},onChangeValid:function(e){return o("validIEEE",e)},errors:void 0!==(0,d.u9)(n,"membershipId")?(0,d.u9)(n,"membershipId"):"",vaildError:void 0!==(0,d.u9)(n,"validIEEE")?(0,d.u9)(n,"validIEEE"):""}),(0,s.jsx)(h.Z,{label:"Food preference *",options:["Veg","Non Veg"],value:a.food,onChange:function(e){return o("food",e)},errors:void 0!==(0,d.u9)(n,"food")?(0,d.u9)(n,"food"):""}),(0,s.jsx)(h.Z,{label:"Number of papers*",options:["1","2","3","Not applicable"],value:a.papers,onChange:function(e){return o("papers",e)},errors:void 0!==(0,d.u9)(n,"papers")?(0,d.u9)(n,"papers"):""}),Number(a.papers)>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{label:"Paper ID 1*",placeholder:"Enter your paper id 1",value:a.paperId1,onChange:function(e){return o("paperId1",e.target.value)},errors:void 0!==(0,d.u9)(n,"paperId1")?(0,d.u9)(n,"paperId1"):""}),(0,s.jsx)(h.Z,{label:"Whether the paper 1 has exceed the 6 page limit ? if yes by how many extra pages ?*",options:["Not applicable","1","2"],value:a.extraPage1,onChange:function(e){return o("extraPage1",e)},errors:void 0!==(0,d.u9)(n,"extraPage1")?(0,d.u9)(n,"extraPage1"):""})]}):null,Number(a.papers)>=2?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{label:"Paper ID 2*",placeholder:"Enter your paper id 2",value:a.paperId2,onChange:function(e){return o("paperId2",e.target.value)},errors:void 0!==(0,d.u9)(n,"paperId2")?(0,d.u9)(n,"paperId2"):""}),(0,s.jsx)(h.Z,{label:"Whether the paper 2 has exceed the 6 page limit ? if yes by how many extra pages ?*",options:["Not applicable","1","2"],value:a.extraPage2,onChange:function(e){return o("extraPage2",e)},errors:void 0!==(0,d.u9)(n,"extraPage2")?(0,d.u9)(n,"extraPage2"):""})]}):null,Number(a.papers)>=3?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{label:"Paper ID 3*",placeholder:"Enter your paper id 3",value:a.paperId3,onChange:function(e){return o("paperId3",e.target.value)},errors:void 0!==(0,d.u9)(n,"paperId3")?(0,d.u9)(n,"paperId3"):""}),(0,s.jsx)(h.Z,{label:"Whether the paper 3 has exceed the 6 page limit ? if yes by how many extra pages ?*",options:["Not applicable","1","2"],value:a.extraPage3,onChange:function(e){return o("extraPage3",e)},errors:void 0!==(0,d.u9)(n,"extraPage3")?(0,d.u9)(n,"extraPage3"):""})]}):null,(0,s.jsx)(h.Z,{label:"Category *",options:K,value:a.category,onChange:function(e){return o("category",e)},errors:void 0!==(0,d.u9)(n,"category")?(0,d.u9)(n,"category"):""}),void 0!==a.category&&a.category.includes("Foreign")?(0,s.jsx)(l.Z,{label:"Passport number *",placeholder:"Enter your passport number",value:a.passport,onChange:function(e){return o("passport",e.target.value)},errors:void 0!==(0,d.u9)(n,"passport")?(0,d.u9)(n,"passport"):""}):null,(0,s.jsx)(B,{}),(0,s.jsx)("h4",{className:u().breakDownLabel,children:"Amount based on chosen catgory"}),(0,s.jsxs)("h5",{className:u().singlePrice,children:[a.category.includes("Foreign")?"$ ":"Rs ",r]}),(0,s.jsx)("h4",{className:u().breakDownLabel,children:"Amount based on number of the additional papers"}),(0,s.jsxs)("h5",{className:u().singlePrice,children:["".concat((0,y.getPaperSinglePrice)(a)," * ").concat(isNaN(a.papers)?0:Number(a.papers)-1," = "),a.category.includes("Foreign")?"$ ":"Rs ",i]}),(0,s.jsx)("h4",{className:u().breakDownLabel,children:"Amount based on additional pages for each paper"}),(0,s.jsxs)("h5",{className:u().singlePrice,children:["".concat((0,I.getSingleAdditionalPagePrice)(a)," * ").concat((0,I.getNumOfAdditionalPages)(a)," = "),a.category.includes("Foreign")?"$ ":"Rs ",j]}),(0,s.jsx)("h4",{className:u().breakDownLabel,children:"Amount to be paid"}),(0,s.jsxs)("h5",{className:u().singlePrice,children:[a.category.includes("Foreign")?"$ ":"Rs ",r+i+j]}),(0,s.jsxs)("h4",{className:u().priceLabel,children:["Total amount (",(0,s.jsxs)("i",{children:["18% GST and"," ",a.category.includes("Foreign")?"3.2%":"2.2%"," ","convenience fee included"]}),")"]}),(0,s.jsxs)("h5",{className:u().price,children:[a.category.includes("Foreign")?"$ ":"Rs ",Z()(r+i+j,a)]}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{className:u().button,type:"submit",onClick:function(){return t()},children:"SUBMIT"})]})}}),(0,s.jsxs)("footer",{className:u().footer,children:[(0,s.jsx)("p",{children:"This content is created by the owner of the form. The data you submit will be sent to the form owner. IEEE Kerala Section is not responsible for the privacy or security practices of its customers, including those of this form owner. Never give out your password."}),(0,s.jsx)("br",{}),"Powered by IKS Mint Forms |"," ",(0,s.jsx)("a",{style:{color:"blue"},href:"https://ieee-mint.org/privacy",children:"Privacy and cookies"})," ","|"," ",(0,s.jsx)("a",{style:{color:"blue"},href:"https://ieee-mint.org/terms",children:"Terms of use"})]})]})]})]})}}},function(e){e.O(0,[175,48,767,231,710,492,774,888,179],(function(){return r=47314,e(e.s=r);var r}));var r=e.O();_N_E=r}]);